+function(e){"use strict";function t(){var e=document.createElement("bootstrap");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t){if(e.style[i]!==undefined){return{end:t[i]}}}return false}e.fn.emulateTransitionEnd=function(t){var i=false;var s=this;e(this).one("bsTransitionEnd",function(){i=true});var r=function(){if(!i)e(s).trigger(e.support.transition.end)};setTimeout(r,t);return this};e(function(){e.support.transition=t();if(!e.support.transition)return;e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function(e){"use strict";var t=function(t,i){this.options=i;this.$body=e(document.body);this.$element=e(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};t.VERSION="3.3.6";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:true,keyboard:true,show:true};t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};t.prototype.show=function(i){var s=this;var r=e.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){s.$element.one("mouseup.dismiss.bs.modal",function(t){if(e(t.target).is(s.$element))s.ignoreBackdropClick=true})});this.backdrop(function(){var r=e.support.transition&&s.$element.hasClass("fade");if(!s.$element.parent().length){s.$element.appendTo(s.$body)}s.$element.show().scrollTop(0);s.adjustDialog();if(r){s.$element[0].offsetWidth}s.$element.addClass("in");s.enforceFocus();var n=e.Event("shown.bs.modal",{relatedTarget:i});r?s.$dialog.one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(t.TRANSITION_DURATION):s.$element.trigger("focus").trigger(n)})};t.prototype.hide=function(i){if(i)i.preventDefault();i=e.Event("hide.bs.modal");this.$element.trigger(i);if(!this.isShown||i.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();e(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()};t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};t.prototype.resize=function(){if(this.isShown){e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this))}else{e(window).off("resize.bs.modal")}};t.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var s=this;var r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&r;this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(n)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!i)return;n?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){s.removeBackdrop();i&&i()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else if(i){i()}};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",e+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure";this.$body.append(e);var t=e.offsetWidth-e.clientWidth;this.$body[0].removeChild(e);return t};function i(i,s){return this.each(function(){var r=e(this);var n=r.data("bs.modal");var o=e.extend({},t.DEFAULTS,r.data(),typeof i=="object"&&i);if(!n)r.data("bs.modal",n=new t(this,o));if(typeof i=="string")n[i](s);else if(o.show)n.show(s)})}var s=e.fn.modal;e.fn.modal=i;e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=s;return this};e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var s=e(this);var r=s.attr("href");var n=e(s.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""));var o=n.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},n.data(),s.data());if(s.is("a"))t.preventDefault();n.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;n.one("hidden.bs.modal",function(){s.is(":visible")&&s.trigger("focus")})});i.call(n,o,this)})}(jQuery);(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(typeof jQuery!="undefined"?jQuery:window.Zepto)}})(function(e){"use strict";var t={};t.fileapi=e("<input type='file'/>").get(0).files!==undefined;t.formdata=window.FormData!==undefined;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i){return this.attr.apply(this,arguments)}var e=this.prop.apply(this,arguments);if(e&&e.jquery||typeof e==="string"){return e}return this.attr.apply(this,arguments)};e.fn.ajaxSubmit=function(s){if(!this.length){n("ajaxSubmit: skipping submit process - no element selected");return this}var r,o,a,l=this;if(typeof s=="function"){s={success:s}}else if(s===undefined){s={}}r=s.type||this.attr2("method");o=s.url||this.attr2("action");a=typeof o==="string"?e.trim(o):"";a=a||window.location.href||"";if(a){a=(a.match(/^([^#]+)/)||[])[1]}s=e.extend(true,{url:a,success:e.ajaxSettings.success,type:r||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},s);var c={};this.trigger("form-pre-serialize",[this,s,c]);if(c.veto){n("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(s.beforeSerialize&&s.beforeSerialize(this,s)===false){n("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var f=s.traditional;if(f===undefined){f=e.ajaxSettings.traditional}var u=[];var d,p=this.formToArray(s.semantic,u);if(s.data){s.extraData=s.data;d=e.param(s.data,f)}if(s.beforeSubmit&&s.beforeSubmit(p,this,s)===false){n("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[p,this,s,c]);if(c.veto){n("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var h=e.param(p,f);if(d){h=h?h+"&"+d:d}if(s.type.toUpperCase()=="GET"){s.url+=(s.url.indexOf("?")>=0?"&":"?")+h;s.data=null}else{s.data=h}var m=[];if(s.resetForm){m.push(function(){l.resetForm()})}if(s.clearForm){m.push(function(){l.clearForm(s.includeHidden)})}if(!s.dataType&&s.target){var g=s.success||function(){};m.push(function(t){var i=s.replaceTarget?"replaceWith":"html";e(s.target)[i](t).each(g,arguments)})}else if(s.success){m.push(s.success)}s.success=function(e,t,i){var r=s.context||this;for(var n=0,o=m.length;n<o;n++){m[n].apply(r,[e,t,i||l,l])}};if(s.error){var _=s.error;s.error=function(e,t,i){var r=s.context||this;_.apply(r,[e,t,i,l])}}if(s.complete){var v=s.complete;s.complete=function(e,t){var i=s.context||this;v.apply(i,[e,t,l])}}var b=e("input[type=file]:enabled",this).filter(function(){return e(this).val()!==""});var y=b.length>0;var w="multipart/form-data";var x=l.attr("enctype")==w||l.attr("encoding")==w;var $=t.fileapi&&t.formdata;n("fileAPI :"+$);var k=(y||x)&&!$;var T;if(s.iframe!==false&&(s.iframe||k)){if(s.closeKeepAlive){e.get(s.closeKeepAlive,function(){T=P(p)})}else{T=P(p)}}else if((y||x)&&$){T=D(p)}else{T=e.ajax(s)}l.removeData("jqxhr").data("jqxhr",T);for(var S=0;S<u.length;S++){u[S]=null}this.trigger("form-submit-notify",[this,s]);return this;function C(t){var i=e.param(t,s.traditional).split("&");var r=i.length;var n=[];var o,a;for(o=0;o<r;o++){i[o]=i[o].replace(/\+/g," ");a=i[o].split("=");n.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])])}return n}function D(t){var i=new FormData;for(var n=0;n<t.length;n++){i.append(t[n].name,t[n].value)}if(s.extraData){var o=C(s.extraData);for(n=0;n<o.length;n++){if(o[n]){i.append(o[n][0],o[n][1])}}}s.data=null;var a=e.extend(true,{},e.ajaxSettings,s,{contentType:false,processData:false,cache:false,type:r||"POST"});if(s.uploadProgress){a.xhr=function(){var t=e.ajaxSettings.xhr();if(t.upload){t.upload.addEventListener("progress",function(e){var t=0;var i=e.loaded||e.position;var r=e.total;if(e.lengthComputable){t=Math.ceil(i/r*100)}s.uploadProgress(e,i,r,t)},false)}return t}}a.data=null;var l=a.beforeSend;a.beforeSend=function(e,t){if(s.formData){t.data=s.formData}else{t.data=i}if(l){l.call(this,e,t)}};return e.ajax(a)}function P(t){var o=l[0],a,c,f,d,p,h,m,g,_,v,b,y;var w=e.Deferred();w.abort=function(e){g.abort(e)};if(t){for(c=0;c<u.length;c++){a=e(u[c]);if(i){a.prop("disabled",false)}else{a.removeAttr("disabled")}}}f=e.extend(true,{},e.ajaxSettings,s);f.context=f.context||f;p="jqFormIO"+(new Date).getTime();if(f.iframeTarget){h=e(f.iframeTarget);v=h.attr2("name");if(!v){h.attr2("name",p)}else{p=v}}else{h=e('<iframe name="'+p+'" src="'+f.iframeSrc+'" />');h.css({position:"absolute",top:"-1000px",left:"-1000px"})}m=h[0];g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i=t==="timeout"?"timeout":"aborted";n("aborting upload... "+i);this.aborted=1;try{if(m.contentWindow.document.execCommand){m.contentWindow.document.execCommand("Stop")}}catch(s){}h.attr("src",f.iframeSrc);g.error=i;if(f.error){f.error.call(f.context,g,i,t)}if(d){e.event.trigger("ajaxError",[g,f,i])}if(f.complete){f.complete.call(f.context,g,i)}}};d=f.global;if(d&&0===e.active++){e.event.trigger("ajaxStart")}if(d){e.event.trigger("ajaxSend",[g,f])}if(f.beforeSend&&f.beforeSend.call(f.context,g,f)===false){if(f.global){e.active--}w.reject();return w}if(g.aborted){w.reject();return w}_=o.clk;if(_){v=_.name;if(v&&!_.disabled){f.extraData=f.extraData||{};f.extraData[v]=_.value;if(_.type=="image"){f.extraData[v+".x"]=o.clk_x;f.extraData[v+".y"]=o.clk_y}}}var x=1;var $=2;function k(e){var t=null;try{if(e.contentWindow){t=e.contentWindow.document}}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(t){return t}try{t=e.contentDocument?e.contentDocument:e.document}catch(i){n("cannot get iframe.contentDocument: "+i);t=e.document}return t}var T=e("meta[name=csrf-token]").attr("content");var S=e("meta[name=csrf-param]").attr("content");if(S&&T){f.extraData=f.extraData||{};f.extraData[S]=T}function C(){var t=l.attr2("target"),i=l.attr2("action"),s="multipart/form-data",a=l.attr("enctype")||l.attr("encoding")||s;o.setAttribute("target",p);if(!r||/post/i.test(r)){o.setAttribute("method","POST")}if(i!=f.url){o.setAttribute("action",f.url)}if(!f.skipEncodingOverride&&(!r||/post/i.test(r))){l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(f.timeout){y=setTimeout(function(){b=true;j(x)},f.timeout)}function c(){try{var e=k(m).readyState;n("state = "+e);if(e&&e.toLowerCase()=="uninitialized"){setTimeout(c,50)}}catch(t){n("Server abort: ",t," (",t.name,")");j($);if(y){clearTimeout(y)}y=undefined}}var u=[];try{if(f.extraData){for(var d in f.extraData){if(f.extraData.hasOwnProperty(d)){if(e.isPlainObject(f.extraData[d])&&f.extraData[d].hasOwnProperty("name")&&f.extraData[d].hasOwnProperty("value")){u.push(e('<input type="hidden" name="'+f.extraData[d].name+'">').val(f.extraData[d].value).appendTo(o)[0])}else{u.push(e('<input type="hidden" name="'+d+'">').val(f.extraData[d]).appendTo(o)[0])}}}}if(!f.iframeTarget){h.appendTo("body")}if(m.attachEvent){m.attachEvent("onload",j)}else{m.addEventListener("load",j,false)}setTimeout(c,15);try{o.submit()}catch(g){var _=document.createElement("form").submit;_.apply(o)}}finally{o.setAttribute("action",i);o.setAttribute("enctype",a);if(t){o.setAttribute("target",t)}else{l.removeAttr("target")}e(u).remove()}}if(f.forceSync){C()}else{setTimeout(C,10)}var D,P,M=50,I;function j(t){if(g.aborted||I){return}P=k(m);if(!P){n("cannot access response document");t=$}if(t===x&&g){g.abort("timeout");w.reject(g,"timeout");return}else if(t==$&&g){g.abort("server abort");w.reject(g,"error","server abort");return}if(!P||P.location.href==f.iframeSrc){if(!b){return}}if(m.detachEvent){m.detachEvent("onload",j)}else{m.removeEventListener("load",j,false)}var i="success",s;try{if(b){throw"timeout"}var r=f.dataType=="xml"||P.XMLDocument||e.isXMLDoc(P);n("isXml="+r);if(!r&&window.opera&&(P.body===null||!P.body.innerHTML)){if(--M){n("requeing onLoad callback, DOM not available");setTimeout(j,250);return}}var o=P.body?P.body:P.documentElement;g.responseText=o?o.innerHTML:null;g.responseXML=P.XMLDocument?P.XMLDocument:P;if(r){f.dataType="xml"}g.getResponseHeader=function(e){var t={"content-type":f.dataType};return t[e.toLowerCase()]};if(o){g.status=Number(o.getAttribute("status"))||g.status;g.statusText=o.getAttribute("statusText")||g.statusText}var a=(f.dataType||"").toLowerCase();var l=/(json|script|text)/.test(a);if(l||f.textarea){var c=P.getElementsByTagName("textarea")[0];if(c){g.responseText=c.value;g.status=Number(c.getAttribute("status"))||g.status;g.statusText=c.getAttribute("statusText")||g.statusText}else if(l){var u=P.getElementsByTagName("pre")[0];var p=P.getElementsByTagName("body")[0];if(u){g.responseText=u.textContent?u.textContent:u.innerText}else if(p){g.responseText=p.textContent?p.textContent:p.innerText}}}else if(a=="xml"&&!g.responseXML&&g.responseText){g.responseXML=F(g.responseText)}try{D=A(g,a,f)}catch(_){i="parsererror";g.error=s=_||i}}catch(_){n("error caught: ",_);i="error";g.error=s=_||i}if(g.aborted){n("upload aborted");i=null}if(g.status){i=g.status>=200&&g.status<300||g.status===304?"success":"error"}if(i==="success"){if(f.success){f.success.call(f.context,D,"success",g)}w.resolve(g.responseText,"success",g);if(d){e.event.trigger("ajaxSuccess",[g,f])}}else if(i){if(s===undefined){s=g.statusText}if(f.error){f.error.call(f.context,g,i,s)}w.reject(g,"error",s);if(d){e.event.trigger("ajaxError",[g,f,s])}}if(d){e.event.trigger("ajaxComplete",[g,f])}if(d&&!--e.active){e.event.trigger("ajaxStop")}if(f.complete){f.complete.call(f.context,g,i)}I=true;if(f.timeout){clearTimeout(y)}setTimeout(function(){if(!f.iframeTarget){h.remove()}else{h.attr("src",f.iframeSrc)}g.responseXML=null},100)}var F=e.parseXML||function(e,t){if(window.ActiveXObject){t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e)}else{t=(new DOMParser).parseFromString(e,"text/xml")}return t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null};var O=e.parseJSON||function(e){return window["eval"]("("+e+")")};var A=function(t,i,s){var r=t.getResponseHeader("content-type")||"",n=i==="xml"||!i&&r.indexOf("xml")>=0,o=n?t.responseXML:t.responseText;if(n&&o.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(s&&s.dataFilter){o=s.dataFilter(o,i)}if(typeof o==="string"){if(i==="json"||!i&&r.indexOf("json")>=0){o=O(o)}else if(i==="script"||!i&&r.indexOf("javascript")>=0){e.globalEval(o)}}return o};return w}};e.fn.ajaxForm=function(t){t=t||{};t.delegation=t.delegation&&e.isFunction(e.fn.on);if(!t.delegation&&this.length===0){var i={s:this.selector,c:this.context};if(!e.isReady&&i.s){n("DOM not ready, queuing ajaxForm");e(function(){e(i.s,i.c).ajaxForm(t)});return this}n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(t.delegation){e(document).off("submit.form-plugin",this.selector,s).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,t,s).on("click.form-plugin",this.selector,t,r);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",t,s).bind("click.form-plugin",t,r)};function s(t){var i=t.data;if(!t.isDefaultPrevented()){t.preventDefault();e(t.target).ajaxSubmit(i)}}function r(t){var i=t.target;var s=e(i);if(!s.is("[type=submit],[type=image]")){var r=s.closest("[type=submit]");if(r.length===0){return}i=r[0]}var n=this;n.clk=i;if(i.type=="image"){if(t.offsetX!==undefined){n.clk_x=t.offsetX;n.clk_y=t.offsetY}else if(typeof e.fn.offset=="function"){var o=s.offset();n.clk_x=t.pageX-o.left;n.clk_y=t.pageY-o.top}else{n.clk_x=t.pageX-i.offsetLeft;n.clk_y=t.pageY-i.offsetTop}}setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(i,s){var r=[];if(this.length===0){return r}var n=this[0];var o=this.attr("id");var a=i?n.getElementsByTagName("*"):n.elements;var l;if(a&&!/MSIE [678]/.test(navigator.userAgent)){a=e(a).get()}if(o){l=e(':input[form="'+o+'"]').get();if(l.length){a=(a||[]).concat(l)}}if(!a||!a.length){return r}var c,f,u,d,p,h,m;for(c=0,h=a.length;c<h;c++){p=a[c];u=p.name;if(!u||p.disabled){continue}if(i&&n.clk&&p.type=="image"){if(n.clk==p){r.push({name:u,value:e(p).val(),type:p.type});r.push({name:u+".x",value:n.clk_x},{name:u+".y",value:n.clk_y})}continue}d=e.fieldValue(p,true);if(d&&d.constructor==Array){if(s){s.push(p)}for(f=0,m=d.length;f<m;f++){r.push({name:u,value:d[f]})}}else if(t.fileapi&&p.type=="file"){if(s){s.push(p)}var g=p.files;if(g.length){for(f=0;f<g.length;f++){r.push({name:u,value:g[f],type:p.type})}}else{r.push({name:u,value:"",type:p.type})}}else if(d!==null&&typeof d!="undefined"){if(s){s.push(p)}r.push({name:u,value:d,type:p.type,required:p.required})}}if(!i&&n.clk){var _=e(n.clk),v=_[0];u=v.name;if(u&&!v.disabled&&v.type=="image"){r.push({name:u,value:_.val()});r.push({name:u+".x",value:n.clk_x},{name:u+".y",value:n.clk_y})}}return r};e.fn.formSerialize=function(t){return e.param(this.formToArray(t))};e.fn.fieldSerialize=function(t){var i=[];this.each(function(){var s=this.name;if(!s){return}var r=e.fieldValue(this,t);if(r&&r.constructor==Array){for(var n=0,o=r.length;n<o;n++){i.push({name:s,value:r[n]})}}else if(r!==null&&typeof r!="undefined"){i.push({name:this.name,value:r})}});return e.param(i)};e.fn.fieldValue=function(t){for(var i=[],s=0,r=this.length;s<r;s++){var n=this[s];var o=e.fieldValue(n,t);if(o===null||typeof o=="undefined"||o.constructor==Array&&!o.length){continue}if(o.constructor==Array){e.merge(i,o)}else{i.push(o)}}return i};e.fieldValue=function(t,i){var s=t.name,r=t.type,n=t.tagName.toLowerCase();if(i===undefined){i=true}if(i&&(!s||t.disabled||r=="reset"||r=="button"||(r=="checkbox"||r=="radio")&&!t.checked||(r=="submit"||r=="image")&&t.form&&t.form.clk!=t||n=="select"&&t.selectedIndex==-1)){return null}if(n=="select"){var o=t.selectedIndex;if(o<0){return null}var a=[],l=t.options;var c=r=="select-one";var f=c?o+1:l.length;for(var u=c?o:0;u<f;u++){var d=l[u];if(d.selected){var p=d.value;if(!p){p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value}if(c){return p}a.push(p)}}return a}return e(t).val()};e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})};e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var s=this.type,r=this.tagName.toLowerCase();if(i.test(s)||r=="textarea"){this.value=""}else if(s=="checkbox"||s=="radio"){this.checked=false}else if(r=="select"){this.selectedIndex=-1}else if(s=="file"){if(/MSIE/.test(navigator.userAgent)){e(this).replaceWith(e(this).clone(true))}else{e(this).val("")}}else if(t){if(t===true&&/hidden/.test(s)||typeof t=="string"&&e(this).is(t)){this.value=""}}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};e.fn.enable=function(e){if(e===undefined){e=true}return this.each(function(){this.disabled=!e})};e.fn.selected=function(t){if(t===undefined){t=true}return this.each(function(){var i=this.type;if(i=="checkbox"||i=="radio"){this.checked=t}else if(this.tagName.toLowerCase()=="option"){var s=e(this).parent("select");if(t&&s[0]&&s[0].type=="select-one"){s.find("option").selected(false)}this.selected=t}})};e.fn.ajaxSubmit.debug=false;function n(){if(!e.fn.ajaxSubmit.debug){return}var t="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(t)}else if(window.opera&&window.opera.postError){window.opera.postError(t)}}});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module==="object"&&module.exports){e(require("jquery"))}else{e(jQuery)}})(function(e){var t=false;var i=Object.prototype.toString.call(window.operamini)==="[object OperaMini]";var s="placeholder"in document.createElement("input")&&!i&&!t;var r="placeholder"in document.createElement("textarea")&&!i&&!t;var n=e.valHooks;var o=e.propHooks;var a;var l;var c={};if(s&&r){l=e.fn.placeholder=function(){return this};l.input=true;l.textarea=true}else{l=e.fn.placeholder=function(i){var r={customClass:"placeholder"};c=e.extend({},r,i);return this.filter((s?"textarea":":input")+"["+(t?"placeholder-x":"placeholder")+"]").not("."+c.customClass).not(":radio, :checkbox, :hidden").bind({"focus.placeholder":u,"blur.placeholder":d}).data("placeholder-enabled",true).trigger("blur.placeholder")};l.input=s;l.textarea=r;a={get:function(t){var i=e(t);var s=i.data("placeholder-password");if(s){return s[0].value}return i.data("placeholder-enabled")&&i.hasClass(c.customClass)?"":t.value},set:function(t,i){var s=e(t);var r;var n;if(i!==""){r=s.data("placeholder-textinput");n=s.data("placeholder-password");if(r){u.call(r[0],true,i)||(t.value=i);r[0].value=i}else if(n){u.call(t,true,i)||(n[0].value=i);t.value=i}}if(!s.data("placeholder-enabled")){t.value=i;return s}if(i===""){t.value=i;if(t!=p()){d.call(t)}}else{if(s.hasClass(c.customClass)){u.call(t)}t.value=i}return s}};if(!s){n.input=a;o.value=a}if(!r){n.textarea=a;o.value=a}e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+c.customClass,this).each(function(){u.call(this,true,"")});setTimeout(function(){t.each(d)},10)})});e(window).bind("beforeunload.placeholder",function(){var t=true;try{if(document.activeElement.toString()==="javascript:void(0)"){t=false}}catch(i){}if(t){e("."+c.customClass).each(function(){this.value=""})}})}function f(t){var i={};var s=/^jQuery\d+$/;e.each(t.attributes,function(e,t){if(t.specified&&!s.test(t.name)){i[t.name]=t.value}});return i}function u(i,s){var r=this;var n=e(this);if(r.value===n.attr(t?"placeholder-x":"placeholder")&&n.hasClass(c.customClass)){r.value="";n.removeClass(c.customClass);if(n.data("placeholder-password")){n=n.hide().nextAll('input[type="password"]:first').show().attr("id",n.removeAttr("id").data("placeholder-id"));if(i===true){n[0].value=s;return s}n.focus()}else{r==p()&&r.select()}}}function d(i){var s;var r=this;var n=e(this);var o=r.id;if(i&&i.type==="blur"&&n.hasClass(c.customClass)){return}if(r.value===""){if(r.type==="password"){if(!n.data("placeholder-textinput")){try{s=n.clone().prop({type:"text"})}catch(a){s=e("<input>").attr(e.extend(f(this),{type:"text"}))}s.removeAttr("name").data({"placeholder-enabled":true,"placeholder-password":n,"placeholder-id":o}).bind("focus.placeholder",u);n.data({"placeholder-textinput":s,"placeholder-id":o}).before(s)}r.value="";n=n.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",n.data("placeholder-id")).show()}else{var l=n.data("placeholder-password");if(l){l[0].value="";n.attr("id",n.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id")}}n.addClass(c.customClass);n[0].value=n.attr(t?"placeholder-x":"placeholder")}else{n.removeClass(c.customClass)}}function p(){try{return document.activeElement}catch(e){}}});!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,i=navigator.userAgent,s=/iphone/i.test(i),r=/chrome/i.test(i),n=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,o){var a,l,c,f,u,d,p,h;if(!i&&this.length>0){a=e(this[0]);var m=a.data(e.mask.dataName);return m?m():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),l=e.mask.definitions,c=[],f=p=i.length,u=null,e.each(i.split(""),function(e,t){"?"==t?(p--,f=e):l[t]?(c.push(new RegExp(l[t])),null===u&&(u=c.length-1),f>e&&(d=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function a(){if(o.completed){for(var e=u;d>=e;e++)if(c[e]&&D[e]===m(e))return;o.completed.call(C)}}function m(e){return o.placeholder.charAt(e<o.placeholder.length?e:0)}function g(e){for(;++e<p&&!c[e];);return e}function _(e){for(;--e>=0&&!c[e];);return e}function v(e,t){var i,s;if(!(0>e)){for(i=e,s=g(t);p>i;i++)if(c[i]){if(!(p>s&&c[i].test(D[s])))break;D[i]=D[s],D[s]=m(s),s=g(s)}T(),C.caret(Math.max(u,e))}}function b(e){var t,i,s,r;for(t=e,i=m(e);p>t;t++)if(c[t]){if(s=g(t),r=D[t],D[t]=i,!(p>s&&c[s].test(r)))break;i=r}}function y(){var e=C.val(),t=C.caret();if(h&&h.length&&h.length>e.length){for(S(!0);t.begin>0&&!c[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!c[t.begin];)t.begin++;C.caret(t.begin,t.begin)}else{for(S(!0);t.begin<p&&!c[t.begin];)t.begin++;C.caret(t.begin,t.begin)}a()}function w(){S(),C.val()!=M&&C.change()}function x(e){if(!C.prop("readonly")){var t,i,r,n=e.which||e.keyCode;h=C.val(),8===n||46===n||s&&127===n?(t=C.caret(),i=t.begin,r=t.end,r-i===0&&(i=46!==n?_(i):r=g(i-1),r=46===n?g(r):r),k(i,r),v(i,r-1),e.preventDefault()):13===n?w.call(this,e):27===n&&(C.val(M),C.caret(0,S()),e.preventDefault())}}function $(t){if(!C.prop("readonly")){var i,s,r,o=t.which||t.keyCode,l=C.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>o)&&o&&13!==o){if(l.end-l.begin!==0&&(k(l.begin,l.end),v(l.begin,l.end-1)),i=g(l.begin-1),p>i&&(s=String.fromCharCode(o),c[i].test(s))){if(b(i),D[i]=s,T(),r=g(i),n){var f=function(){e.proxy(e.fn.caret,C,r)()};setTimeout(f,0)}else C.caret(r);l.begin<=d&&a()}t.preventDefault()}}}function k(e,t){var i;for(i=e;t>i&&p>i;i++)c[i]&&(D[i]=m(i))}function T(){C.val(D.join(""))}function S(e){var t,i,s,r=C.val(),n=-1;for(t=0,s=0;p>t;t++)if(c[t]){for(D[t]=m(t);s++<r.length;)if(i=r.charAt(s-1),c[t].test(i)){D[t]=i,n=t;break}if(s>r.length){k(t+1,p);break}}else D[t]===r.charAt(s)&&s++,f>t&&(n=t);return e?T():f>n+1?o.autoclear||D.join("")===P?(C.val()&&C.val(""),k(0,p)):T():(T(),C.val(C.val().substring(0,n+1))),f?t:u}var C=e(this),D=e.map(i.split(""),function(e,t){return"?"!=e?l[e]?m(t):e:void 0}),P=D.join(""),M=C.val();C.data(e.mask.dataName,function(){return e.map(D,function(e,t){return c[t]&&e!=m(t)?e:null}).join("")}),C.one("unmask",function(){C.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!C.prop("readonly")){clearTimeout(t);var e;M=C.val(),e=S(),t=setTimeout(function(){C.get(0)===document.activeElement&&(T(),e==i.replace("?","").length?C.caret(0,e):C.caret(e))},10)}}).on("blur.mask",w).on("keydown.mask",x).on("keypress.mask",$).on("input.mask paste.mask",function(){C.prop("readonly")||setTimeout(function(){var e=S(!0);C.caret(e),a()},0)}),r&&n&&C.off("input.mask").on("input.mask",y),S()})}})});(function(e){if(typeof define==="function"&&define.amd){define(e)}else if(typeof exports==="object"){module.exports=e()}else{var t=window.Cookies;var i=window.Cookies=e();i.noConflict=function(){window.Cookies=t;return i}}})(function(){function e(){var e=0;var t={};for(;e<arguments.length;e++){var i=arguments[e];for(var s in i){t[s]=i[s]}}return t}function t(i){function s(t,r,n){var o;if(arguments.length>1){n=e({path:"/"},s.defaults,n);if(typeof n.expires==="number"){var a=new Date;a.setMilliseconds(a.getMilliseconds()+n.expires*864e5);n.expires=a}try{o=JSON.stringify(r);if(/^[\{\[]/.test(o)){r=o}}catch(l){}if(!i.write){r=encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{r=i.write(r,t)}t=encodeURIComponent(String(t));t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);t=t.replace(/[\(\)]/g,escape);return document.cookie=[t,"=",r,n.expires&&"; expires="+n.expires.toUTCString(),n.path&&"; path="+n.path,n.domain&&"; domain="+n.domain,n.secure?"; secure":""].join("")}if(!t){o={}}var c=document.cookie?document.cookie.split("; "):[];var f=/(%[0-9A-Z]{2})+/g;var u=0;for(;u<c.length;u++){var d=c[u].split("=");var p=d[0].replace(f,decodeURIComponent);var h=d.slice(1).join("=");if(h.charAt(0)==='"'){h=h.slice(1,-1)}try{h=i.read?i.read(h,p):i(h,p)||h.replace(f,decodeURIComponent);if(this.json){try{h=JSON.parse(h)}catch(l){}}if(t===p){o=h;break}if(!t){o[p]=h}}catch(l){}}return o}s.get=s.set=s;s.getJSON=function(){return s.apply({json:true},[].slice.call(arguments))};s.defaults={};s.remove=function(t,i){s(t,"",e(i,{expires:-1}))};s.withConverter=t;return s}return t(function(){})});(function(e){var t=/iPhone/i,i=/iPod/i,s=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,n=/Android/i,o=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,a=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,u=/BB10/i,d=/Opera Mini/i,p=/(CriOS|Chrome)(?=.*\bMobile\b)/i,h=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:"+"Nexus 7"+"|"+"BNTV250"+"|"+"Kindle Fire"+"|"+"Silk"+"|"+"GT-P1000"+")","i");
var g=function(e,t){return e.test(t)};var _=function(e){var _=e||navigator.userAgent;var v=_.split("[FBAN");if(typeof v[1]!=="undefined"){_=v[0]}this.apple={phone:g(t,_),ipod:g(i,_),tablet:!g(t,_)&&g(s,_),device:g(t,_)||g(i,_)||g(s,_)};this.amazon={phone:g(o,_),tablet:!g(o,_)&&g(a,_),device:g(o,_)||g(a,_)};this.android={phone:g(o,_)||g(r,_),tablet:!g(o,_)&&!g(r,_)&&(g(a,_)||g(n,_)),device:g(o,_)||g(a,_)||g(r,_)||g(n,_)};this.windows={phone:g(l,_),tablet:g(c,_),device:g(l,_)||g(c,_)};this.other={blackberry:g(f,_),blackberry10:g(u,_),opera:g(d,_),firefox:g(h,_),chrome:g(p,_),device:g(f,_)||g(u,_)||g(d,_)||g(h,_)||g(p,_)};this.seven_inch=g(m,_);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined"){return this}};var v=function(){var e=new _;e.Class=_;return e};if(typeof module!=="undefined"&&module.exports&&typeof window==="undefined"){module.exports=_}else if(typeof module!=="undefined"&&module.exports&&typeof window!=="undefined"){module.exports=v()}else if(typeof define==="function"&&define.amd){define("isMobile",[],e.isMobile=v())}else{e.isMobile=v()}})(this);(function(e,t){"$:nomunge";var i=e.jQuery||e.Cowboy||(e.Cowboy={}),s;i.throttle=s=function(e,s,r,n){var o,a=0;if(typeof s!=="boolean"){n=r;r=s;s=t}function l(){var i=this,l=+new Date-a,c=arguments;function f(){a=+new Date;r.apply(i,c)}function u(){o=t}if(n&&!o){f()}o&&clearTimeout(o);if(n===t&&l>e){f()}else if(s!==true){o=setTimeout(n?u:f,n===t?e-l:e)}}if(i.guid){l.guid=r.guid=r.guid||i.guid++}return l};i.debounce=function(e,i,r){return r===t?s(e,i,false):s(e,r,i!==false)}})(this);(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module!=="undefined"&&module.exports){module.exports=e(require("jquery"))}else{e(jQuery)}})(function(e){"use strict";var t=e.scrollTo=function(t,i,s){return e(window).scrollTo(t,i,s)};t.defaults={axis:"xy",duration:0,limit:true};function i(t){return!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}e.fn.scrollTo=function(r,n,o){if(typeof n==="object"){o=n;n=0}if(typeof o==="function"){o={onAfter:o}}if(r==="max"){r=9e9}o=e.extend({},t.defaults,o);n=n||o.duration;var a=o.queue&&o.axis.length>1;if(a){n/=2}o.offset=s(o.offset);o.over=s(o.over);return this.each(function(){if(r===null)return;var l=i(this),c=l?this.contentWindow||window:this,f=e(c),u=r,d={},p;switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=s(u);break}u=l?e(u):e(u,c);case"object":if(u.length===0)return;if(u.is||u.style){p=(u=e(u)).offset()}}var h=e.isFunction(o.offset)&&o.offset(c,u)||o.offset;e.each(o.axis.split(""),function(e,i){var s=i==="x"?"Left":"Top",r=s.toLowerCase(),n="scroll"+s,g=f[n](),_=t.max(c,i);if(p){d[n]=p[r]+(l?0:g-f.offset()[r]);if(o.margin){d[n]-=parseInt(u.css("margin"+s),10)||0;d[n]-=parseInt(u.css("border"+s+"Width"),10)||0}d[n]+=h[r]||0;if(o.over[r]){d[n]+=u[i==="x"?"width":"height"]()*o.over[r]}}else{var v=u[r];d[n]=v.slice&&v.slice(-1)==="%"?parseFloat(v)/100*_:v}if(o.limit&&/^\d+$/.test(d[n])){d[n]=d[n]<=0?0:Math.min(d[n],_)}if(!e&&o.axis.length>1){if(g===d[n]){d={}}else if(a){m(o.onAfterFirst);d={}}}});m(o.onAfter);function m(t){var i=e.extend({},o,{queue:true,duration:n,complete:t&&function(){t.call(c,u,o)}});f.animate(d,i)}})};t.max=function(t,s){var r=s==="x"?"Width":"Height",n="scroll"+r;if(!i(t))return t[n]-e(t)[r.toLowerCase()]();var o="client"+r,a=t.ownerDocument||t.document,l=a.documentElement,c=a.body;return Math.max(l[n],c[n])-Math.min(l[o],c[o])};function s(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var i=this.get(t);if(t.options.interrupt&&t._last&&t._last!==i){return e(t.elem).stop()}var s=Math.round(t.now);if(i!==s){e(t.elem)[t.prop](s);t._last=this.get(t)}}};return t});+function(e){"use strict";function t(i,s){this.$body=e(document.body);this.$scrollElement=e(i).is(document.body)?e(window):e(i);this.options=e.extend({},t.DEFAULTS,s);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this));this.refresh();this.process()}t.VERSION="3.3.6";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this;var i="offset";var s=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!e.isWindow(this.$scrollElement[0])){i="position";s=this.$scrollElement.scrollTop()}this.$body.find(this.selector).map(function(){var t=e(this);var r=t.data("target")||t.attr("href");var n=/^#./.test(r)&&e(r);return n&&n.length&&n.is(":visible")&&[[n[i]().top+s,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset;var t=this.getScrollHeight();var i=this.options.offset+t-this.$scrollElement.height();var s=this.offsets;var r=this.targets;var n=this.activeTarget;var o;if(this.scrollHeight!=t){this.refresh()}if(e>=i){return n!=(o=r[r.length-1])&&this.activate(o)}if(n&&e<s[0]){this.activeTarget=null;return this.clear()}for(o=s.length;o--;){n!=r[o]&&e>=s[o]&&(s[o+1]===undefined||e<s[o+1])&&this.activate(r[o])}};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';var s=e(i).parents("li").addClass("active");if(s.parent(".dropdown-menu").length){s=s.closest("li.dropdown").addClass("active")}s.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function i(i){return this.each(function(){var s=e(this);var r=s.data("bs.scrollspy");var n=typeof i=="object"&&i;if(!r)s.data("bs.scrollspy",r=new t(this,n));if(typeof i=="string")r[i]()})}var s=e.fn.scrollspy;e.fn.scrollspy=i;e.fn.scrollspy.Constructor=t;e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=s;return this};e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery);(function(e,t,i,s){"use strict";e.fn.Lazy=e.fn.lazy=function(e){return new n(this,e)};function r(i,s,r,n){var o=0,a=-1,l=-1,c=false;function f(){c=t.devicePixelRatio>1;u(r);if(s("delay")>=0)setTimeout(function(){d(true)},s("delay"));if(s("delay")<0||s("combined")){n.e=_(s("throttle"),function(e){if(e.type==="resize")a=l=-1;d(e.all)});n.a=function(e){u(e);r.push.apply(r,e)};n.g=function(){return r};d();e(s("appendScroll")).on("scroll."+i.name+" resize."+i.name,n.e)}}function u(t){t=e(t).filter(function(){return!e(this).data(s("handledName"))&&(e(this).attr(s("attribute"))||e(this).attr(s("loaderAttribute")))}).data("plugin_"+i.name,i);if(s("defaultImage")||s("placeholder"))for(var r=0;r<t.length;r++){var n=e(t[r]),o=t[r].tagName.toLowerCase(),a="background-image";if(o=="img"&&s("defaultImage")&&!n.attr("src"))n.attr("src",s("defaultImage"));else if(o!="img"&&s("placeholder")&&(!n.css(a)||n.css(a)=="none"))n.css(a,"url("+s("placeholder")+")")}}function d(t){if(!r.length){if(s("autoDestroy"))i.destroy();return}var n=false,o=s("imageBase")?s("imageBase"):"";for(var a=0;a<r.length;a++)(function(i){if(h(i)||t){var r=e(i),a=i.tagName.toLowerCase(),l=r.attr(s("attribute")),c;if(!r.data(s("handledName"))&&(!s("visibleOnly")||r.is(":visible"))&&(l&&(a=="img"&&o+l!=r.attr("src")||a!="img"&&o+l!=r.css("background-image"))||(c=r.attr(s("loaderAttribute"))))){n=true;r.data(s("handledName"),true);p(r,a,o,c)}}})(r[a]);if(n)r=e(r).filter(function(){return!e(this).data(s("handledName"))})}function p(t,i,r,n){++o;var a=function(){b("onError",t);v()};b("beforeLoad",t);if(n){t.off("error").one("error",a);t.one("load",function(){if(s("removeAttribute"))t.removeAttr(s("loaderAttribute"));b("afterLoad",t);v()});if(!b(n,t,function(e){if(e)t.load();else t.error()}))t.error()}else{var l=e(new Image);l.one("error",a);l.one("load",function(){t.hide();if(i=="img")t.attr("src",l.attr("src"));else t.css("background-image","url("+l.attr("src")+")");t[s("effect")](s("effectTime"));if(s("removeAttribute"))t.removeAttr(s("attribute")+" "+s("retinaAttribute"));b("afterLoad",t);l.remove();v()});l.attr("src",r+t.attr(s(c&&t.attr(s("retinaAttribute"))?"retinaAttribute":"attribute")));if(l.complete)l.load()}}function h(e){var t=e.getBoundingClientRect(),i=s("scrollDirection"),r=s("threshold"),n=g()+r>t.top&&-r<t.bottom,o=m()+r>t.left&&-r<t.right;if(i=="vertical")return n;else if(i=="horizontal")return o;return n&&o}function m(){return a>=0?a:a=e(t).width()}function g(){return l>=0?l:l=e(t).height()}function _(e,t){var r,n=0;return function(o,a){var l=+new Date-n;function c(){n=+new Date;t.call(i,o)}r&&clearTimeout(r);if(l>e||!s("enableThrottle")||a)c();else r=setTimeout(c,e-l)}}function v(){--o;if(!r.size()&&!o)b("onFinishedAll")}function b(e,t,r){if(e=s(e)){e.apply(i,[].slice.call(arguments,1));return true}return false}(function(){if(s("bind")=="event")f();else e(t).load(f)})()}function n(t,i){var n=this,o=e.extend({},n.configuration,i),a={};n.config=function(e,t){if(t===s)return o[e];else o[e]=t;return n};n.addItems=function(t){if(a.a)a.a(e.type(t)==="string"?e(t):t);return n};n.getItems=function(){return a.g?a.g():{}};n.update=function(e){if(a.e)a.e({},!e);return n};n.loadAll=function(){if(a.e)a.e({all:true},true);return n};n.destroy=function(){e(n.config("appendScroll")).off("."+n.name,a.e);a={};return s};r(n,n.config,t,a);return n.config("chainable")?t:n}e.extend(n.prototype,{name:"lazy",configuration:{chainable:true,autoDestroy:true,bind:"load",threshold:500,visibleOnly:false,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:false,attribute:"data-src",retinaAttribute:"data-retina",loaderAttribute:"data-loader",removeAttribute:true,handledName:"handled",effect:"show",effectTime:0,enableThrottle:true,throttle:250,beforeLoad:null,afterLoad:null,onError:null,onFinishedAll:null}})})(jQuery,window,document);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e(require("jquery"))}else{e(jQuery)}})(function(e){var t="waitForImages";e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]};e.expr[":"]["has-src"]=function(t){return e(t).is('img[src][src!=""]')};e.expr[":"].uncached=function(t){if(!e(t).is(":has-src")){return false}return!t.complete};e.fn.waitForImages=function(){var i=0;var s=0;var r=e.Deferred();var n;var o;var a;if(e.isPlainObject(arguments[0])){a=arguments[0].waitForAll;o=arguments[0].each;n=arguments[0].finished}else{if(arguments.length===1&&e.type(arguments[0])==="boolean"){a=arguments[0]}else{n=arguments[0];o=arguments[1];a=arguments[2]}}n=n||e.noop;o=o||e.noop;a=!!a;if(!e.isFunction(n)||!e.isFunction(o)){throw new TypeError("An invalid callback was supplied.")}this.each(function(){var l=e(this);var c=[];var f=e.waitForImages.hasImageProperties||[];var u=e.waitForImages.hasImageAttributes||[];var d=/url\(\s*(['"]?)(.*?)\1\s*\)/g;if(a){l.find("*").addBack().each(function(){var t=e(this);if(t.is("img:has-src")){c.push({src:t.attr("src"),element:t[0]})}e.each(f,function(e,i){var s=t.css(i);var r;if(!s){return true}while(r=d.exec(s)){c.push({src:r[2],element:t[0]})}});e.each(u,function(i,s){var r=t.attr(s);var n;if(!r){return true}n=r.split(",");e.each(n,function(i,s){s=e.trim(s).split(" ")[0];c.push({src:s,element:t[0]})})})})}else{l.find("img:has-src").each(function(){c.push({src:this.src,element:this})})}i=c.length;s=0;if(i===0){n.call(l[0]);r.resolveWith(l[0])}e.each(c,function(a,c){var f=new Image;var u="load."+t+" error."+t;e(f).one(u,function d(t){var a=[s,i,t.type=="load"];s++;o.apply(c.element,a);r.notifyWith(c.element,a);e(this).off(u,d);if(s==i){n.call(l[0]);r.resolveWith(l[0]);return false}});f.src=c.src})});return r.promise()}});(function(e,t,i,s,r){"use strict";var n=0;var o=function(){var t=s.userAgent,i=/msie\s\d+/i,r;if(t.search(i)>0){r=i.exec(t).toString();r=r.split(" ")[1];if(r<9){e("html").addClass("lt-ie9");return true}}return false}();if(!Function.prototype.bind){Function.prototype.bind=function d(e){var t=this;var i=[].slice;if(typeof t!="function"){throw new TypeError}var s=i.call(arguments,1),r=function(){if(this instanceof r){var n=function(){};n.prototype=t.prototype;var o=new n;var a=t.apply(o,s.concat(i.call(arguments)));if(Object(a)===a){return a}return o}else{return t.apply(e,s.concat(i.call(arguments)))}};return r}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,t){var i;if(this==null){throw new TypeError('"this" is null or not defined')}var s=Object(this);var r=s.length>>>0;if(r===0){return-1}var n=+t||0;if(Math.abs(n)===Infinity){n=0}if(n>=r){return-1}i=Math.max(n>=0?n:r-Math.abs(n),0);while(i<r){if(i in s&&s[i]===e){return i}i++}return-1}}var a='<span class="irs">'+'<span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>'+'<span class="irs-min">0</span><span class="irs-max">1</span>'+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>'+"</span>"+'<span class="irs-grid"></span>'+'<span class="irs-bar"></span>';var l='<span class="irs-bar-edge"></span>'+'<span class="irs-shadow shadow-single"></span>'+'<span class="irs-slider single"></span>';var c='<span class="irs-shadow shadow-from"></span>'+'<span class="irs-shadow shadow-to"></span>'+'<span class="irs-slider from"></span>'+'<span class="irs-slider to"></span>';var f='<span class="irs-disable-mask"></span>';var u=function(s,r,n){this.VERSION="2.1.2";this.input=s;this.plugin_count=n;this.current_plugin=0;this.calc_count=0;this.update_tm=0;this.old_from=0;this.old_to=0;this.old_min_interval=null;this.raf_id=null;this.dragging=false;this.force_redraw=false;this.no_diapason=false;this.is_key=false;this.is_update=false;this.is_start=true;this.is_finish=false;this.is_active=false;this.is_resize=false;this.is_click=false;this.$cache={win:e(i),body:e(t.body),input:e(s),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var o=this.$cache.input,a=o.prop("value"),l,c,f;l={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:false,values:[],p_values:[],from_fixed:false,from_min:null,from_max:null,from_shadow:false,to_fixed:false,to_min:null,to_max:null,to_shadow:false,prettify_enabled:true,prettify_separator:" ",prettify:null,force_edges:false,keyboard:false,keyboard_step:5,grid:false,grid_margin:true,grid_num:4,grid_snap:false,hide_min_max:false,hide_from_to:false,prefix:"",postfix:"",max_postfix:"",decorate_both:true,values_separator:" â€” ",input_values_separator:";",disable:false,onStart:null,onChange:null,onFinish:null,onUpdate:null};c={type:o.data("type"),min:o.data("min"),max:o.data("max"),from:o.data("from"),to:o.data("to"),step:o.data("step"),min_interval:o.data("minInterval"),max_interval:o.data("maxInterval"),drag_interval:o.data("dragInterval"),values:o.data("values"),from_fixed:o.data("fromFixed"),from_min:o.data("fromMin"),from_max:o.data("fromMax"),from_shadow:o.data("fromShadow"),to_fixed:o.data("toFixed"),to_min:o.data("toMin"),to_max:o.data("toMax"),to_shadow:o.data("toShadow"),prettify_enabled:o.data("prettifyEnabled"),prettify_separator:o.data("prettifySeparator"),force_edges:o.data("forceEdges"),keyboard:o.data("keyboard"),keyboard_step:o.data("keyboardStep"),grid:o.data("grid"),grid_margin:o.data("gridMargin"),grid_num:o.data("gridNum"),grid_snap:o.data("gridSnap"),hide_min_max:o.data("hideMinMax"),hide_from_to:o.data("hideFromTo"),prefix:o.data("prefix"),postfix:o.data("postfix"),max_postfix:o.data("maxPostfix"),decorate_both:o.data("decorateBoth"),values_separator:o.data("valuesSeparator"),input_values_separator:o.data("inputValuesSeparator"),disable:o.data("disable")};c.values=c.values&&c.values.split(",");for(f in c){if(c.hasOwnProperty(f)){if(!c[f]&&c[f]!==0){delete c[f]}}}if(a){a=a.split(c.input_values_separator||r.input_values_separator||";");if(a[0]&&a[0]==+a[0]){a[0]=+a[0]}if(a[1]&&a[1]==+a[1]){a[1]=+a[1]}if(r&&r.values&&r.values.length){l.from=a[0]&&r.values.indexOf(a[0]);l.to=a[1]&&r.values.indexOf(a[1])}else{l.from=a[0]&&+a[0];l.to=a[1]&&+a[1]}}e.extend(l,r);e.extend(l,c);this.options=l;this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};u.prototype={init:function(e){this.no_diapason=false;this.coords.p_step=this.convertToPercent(this.options.step,true);this.target="base";this.toggleInput();this.append();this.setMinMax();if(e){this.force_redraw=true;this.calc(true);this.callOnUpdate()}else{this.force_redraw=true;this.calc(true);this.callOnStart()}this.updateScene()},append:function(){var e='<span class="irs js-irs-'+this.plugin_count+'"></span>';this.$cache.input.before(e);this.$cache.input.prop("readonly",true);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html(a);this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");if(this.options.type==="single"){this.$cache.cont.append(l);this.$cache.edge=this.$cache.cont.find(".irs-bar-edge");this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{this.$cache.cont.append(c);this.$cache.s_from=this.$cache.cont.find(".from");this.$cache.s_to=this.$cache.cont.find(".to");this.$cache.shad_from=this.$cache.cont.find(".shadow-from");this.$cache.shad_to=this.$cache.cont.find(".shadow-to");this.setTopHandler()}if(this.options.hide_from_to){this.$cache.from[0].style.display="none";this.$cache.to[0].style.display="none";this.$cache.single[0].style.display="none"}this.appendGrid();if(this.options.disable){this.appendDisableMask();this.$cache.input[0].disabled=true}else{this.$cache.cont.removeClass("irs-disabled");this.$cache.input[0].disabled=false;this.bindEvents()}if(this.options.drag_interval){this.$cache.bar[0].style.cursor="ew-resize"}},setTopHandler:function(){var e=this.options.min,t=this.options.max,i=this.options.from,s=this.options.to;if(i>e&&s===t){this.$cache.s_from.addClass("type_last")}else if(s<t){this.$cache.s_to.addClass("type_last")}},changeLevel:function(e){switch(e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last");break}},appendDisableMask:function(){this.$cache.cont.append(f);this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);if(o){this.$cache.body.off("mouseup.irs_"+this.plugin_count);this.$cache.body.off("mouseleave.irs_"+this.plugin_count)}this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(this.no_diapason){return}this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&this.options.type==="double"){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.type==="single"){this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}else{this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}if(o){this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))}},pointerMove:function(e){if(!this.dragging){return}var t=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;this.coords.x_pointer=t-this.coords.x_gap;this.calc()},pointerUp:function(t){if(this.current_plugin!==this.plugin_count){return}if(this.is_active){this.is_active=false}else{return}this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=true;if(o){e("*").prop("unselectable",false)}this.updateScene();this.restoreOriginalMinInterval();if(e.contains(this.$cache.cont[0],t.target)||this.dragging){this.is_finish=true;this.callOnFinish()}this.dragging=false},pointerDown:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;if(i.button===2){return}if(t==="both"){this.setTempMinInterval()}if(!t){t=this.target}this.current_plugin=this.plugin_count;this.target=t;this.is_active=true;this.dragging=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=s-this.coords.x_gap;this.calcPointerPercent();this.changeLevel(t);if(o){e("*").prop("unselectable",true)}this.$cache.line.trigger("focus");this.updateScene()},pointerClick:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;if(t.button===2){return}this.current_plugin=this.plugin_count;this.target=e;this.is_click=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=+(i-this.coords.x_gap).toFixed();this.force_redraw=true;this.calc();this.$cache.line.trigger("focus")},key:function(e,t){if(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey){return}switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault();this.moveByKey(false);break;case 87:case 68:case 38:case 39:t.preventDefault();this.moveByKey(true);break}return true},moveByKey:function(e){var t=this.coords.p_pointer;if(e){t+=this.options.keyboard_step}else{t-=this.options.keyboard_step}this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t);this.is_key=true;this.calc()},setMinMax:function(){if(!this.options){return}if(this.options.hide_min_max){this.$cache.min[0].style.display="none";this.$cache.max[0].style.display="none";return}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min));this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(false);this.labels.w_max=this.$cache.max.outerWidth(false)},setTempMinInterval:function(){var e=this.result.to-this.result.from;if(this.old_min_interval===null){this.old_min_interval=this.options.min_interval}this.options.min_interval=e},restoreOriginalMinInterval:function(){if(this.old_min_interval!==null){this.options.min_interval=this.old_min_interval;this.old_min_interval=null}},calc:function(e){if(!this.options){return}this.calc_count++;if(this.calc_count===10||e){this.calc_count=0;this.coords.w_rs=this.$cache.rs.outerWidth(false);this.calcHandlePercent()}if(!this.coords.w_rs){return}this.calcPointerPercent();var t=this.getHandleX();if(this.target==="click"){this.coords.p_gap=this.coords.p_handle/2;t=this.getHandleX();if(this.options.drag_interval){this.target="both_one"}else{this.target=this.chooseHandle(t)}}switch(this.target){case"base":var i=(this.options.max-this.options.min)/100,s=(this.result.from-this.options.min)/i,r=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(s);this.coords.p_from_real=this.toFixed(s);this.coords.p_to_real=this.toFixed(r);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.convertToRealPercent(t);this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.convertToRealPercent(t);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);if(this.coords.p_from_real>this.coords.p_to_real){this.coords.p_from_real=this.coords.p_to_real}this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.convertToRealPercent(t);this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);if(this.coords.p_to_real<this.coords.p_from_real){this.coords.p_to_real=this.coords.p_from_real}this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed){break}t=this.toFixed(t+this.coords.p_handle*.1);this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed){break}var n=this.convertToRealPercent(t),o=this.result.from_percent,a=this.result.to_percent,l=a-o,c=l/2,f=n-c,u=n+c;if(f<0){f=0;u=f+l}if(u>100){u=100;f=u-l;
}this.coords.p_from_real=this.calcWithStep(f);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(u);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break}if(this.options.type==="single"){this.coords.p_bar_x=this.coords.p_handle/2;this.coords.p_bar_w=this.coords.p_single_fake;this.result.from_percent=this.coords.p_single_real;this.result.from=this.convertToValue(this.coords.p_single_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2);this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake);this.result.from_percent=this.coords.p_from_real;this.result.from=this.convertToValue(this.coords.p_from_real);this.result.to_percent=this.coords.p_to_real;this.result.to=this.convertToValue(this.coords.p_to_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from];this.result.to_value=this.options.values[this.result.to]}}this.calcMinMax();this.calcLabels()},calcPointerPercent:function(){if(!this.coords.w_rs){this.coords.p_pointer=0;return}if(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)){this.coords.x_pointer=0}else if(this.coords.x_pointer>this.coords.w_rs){this.coords.x_pointer=this.coords.w_rs}this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},convertToRealPercent:function(e){var t=100-this.coords.p_handle;return e/t*100},convertToFakePercent:function(e){var t=100-this.coords.p_handle;return e/100*t},getHandleX:function(){var e=100-this.coords.p_handle,t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);if(t<0){t=0}else if(t>e){t=e}return t},calcHandlePercent:function(){if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(e){if(this.options.type==="single"){return"single"}else{var t=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;if(e>=t){return this.options.to_fixed?"from":"to"}else{return this.options.from_fixed?"to":"from"}}},calcMinMax:function(){if(!this.coords.w_rs){return}this.labels.p_min=this.labels.w_min/this.coords.w_rs*100;this.labels.p_max=this.labels.w_max/this.coords.w_rs*100},calcLabels:function(){if(!this.coords.w_rs||this.options.hide_from_to){return}if(this.options.type==="single"){this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}else{this.labels.w_from=this.$cache.from.outerWidth(false);this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100;this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2;this.labels.p_from_left=this.toFixed(this.labels.p_from_left);this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake);this.labels.w_to=this.$cache.to.outerWidth(false);this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100;this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2;this.labels.p_to_left=this.toFixed(this.labels.p_to_left);this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake);this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.toFixed(this.labels.p_single_left);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}},updateScene:function(){if(this.raf_id){cancelAnimationFrame(this.raf_id);this.raf_id=null}clearTimeout(this.update_tm);this.update_tm=null;if(!this.options){return}this.drawHandles();if(this.is_active){this.raf_id=requestAnimationFrame(this.updateScene.bind(this))}else{this.update_tm=setTimeout(this.updateScene.bind(this),300)}},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.coords.w_rs!==this.coords.w_rs_old){this.target="base";this.is_resize=true}if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax();this.calc(true);this.drawLabels();if(this.options.grid){this.calcGridMargin();this.calcGridLabels()}this.force_redraw=true;this.coords.w_rs_old=this.coords.w_rs;this.drawShadow()}if(!this.coords.w_rs){return}if(!this.dragging&&!this.force_redraw&&!this.is_key){return}if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if(this.options.type==="single"){this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value)}else{this.$cache.input.prop("value",this.result.from)}this.$cache.input.data("from",this.result.from)}else{this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%";this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value)}else{this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to)}this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}if((this.old_from!==this.result.from||this.old_to!==this.result.to)&&!this.is_start){this.$cache.input.trigger("change")}this.old_from=this.result.from;this.old_to=this.result.to;if(!this.is_resize&&!this.is_update&&!this.is_start&&!this.is_finish){this.callOnChange()}if(this.is_key||this.is_click){this.is_key=false;this.is_click=false;this.callOnFinish()}this.is_update=false;this.is_resize=false;this.is_finish=false}this.is_start=false;this.is_key=false;this.is_click=false;this.force_redraw=false},drawLabels:function(){if(!this.options){return}var e=this.options.values.length,t=this.options.p_values,i,s,r;if(this.options.hide_from_to){return}if(this.options.type==="single"){if(e){i=this.decorate(t[this.result.from]);this.$cache.single.html(i)}else{i=this.decorate(this._prettify(this.result.from),this.result.from);this.$cache.single.html(i)}this.calcLabels();if(this.labels.p_single_left<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}else{if(e){if(this.options.decorate_both){i=this.decorate(t[this.result.from]);i+=this.options.values_separator;i+=this.decorate(t[this.result.to])}else{i=this.decorate(t[this.result.from]+this.options.values_separator+t[this.result.to])}s=this.decorate(t[this.result.from]);r=this.decorate(t[this.result.to]);this.$cache.single.html(i);this.$cache.from.html(s);this.$cache.to.html(r)}else{if(this.options.decorate_both){i=this.decorate(this._prettify(this.result.from),this.result.from);i+=this.options.values_separator;i+=this.decorate(this._prettify(this.result.to),this.result.to)}else{i=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to)}s=this.decorate(this._prettify(this.result.from),this.result.from);r=this.decorate(this._prettify(this.result.to),this.result.to);this.$cache.single.html(i);this.$cache.from.html(s);this.$cache.to.html(r)}this.calcLabels();var n=Math.min(this.labels.p_single_left,this.labels.p_from_left),o=this.labels.p_single_left+this.labels.p_single_fake,a=this.labels.p_to_left+this.labels.p_to_fake,l=Math.max(o,a);if(this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left){this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";if(this.result.from===this.result.to){if(this.target==="from"){this.$cache.from[0].style.visibility="visible"}else if(this.target==="to"){this.$cache.to[0].style.visibility="visible"}this.$cache.single[0].style.visibility="hidden";l=a}else{this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";l=Math.max(o,a)}}else{this.$cache.from[0].style.visibility="visible";this.$cache.to[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden"}if(n<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(l>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var e=this.options,t=this.$cache,i=typeof e.from_min==="number"&&!isNaN(e.from_min),s=typeof e.from_max==="number"&&!isNaN(e.from_max),r=typeof e.to_min==="number"&&!isNaN(e.to_min),n=typeof e.to_max==="number"&&!isNaN(e.to_max),o,a,l,c;if(e.type==="single"){if(e.from_shadow&&(i||s)){o=this.convertToPercent(i?e.from_min:e.min);a=this.convertToPercent(s?e.from_max:e.max)-o;o=this.toFixed(o-this.coords.p_handle/100*o);a=this.toFixed(a-this.coords.p_handle/100*a);o=o+this.coords.p_handle/2;t.shad_single[0].style.display="block";t.shad_single[0].style.left=o+"%";t.shad_single[0].style.width=a+"%"}else{t.shad_single[0].style.display="none"}}else{if(e.from_shadow&&(i||s)){o=this.convertToPercent(i?e.from_min:e.min);a=this.convertToPercent(s?e.from_max:e.max)-o;o=this.toFixed(o-this.coords.p_handle/100*o);a=this.toFixed(a-this.coords.p_handle/100*a);o=o+this.coords.p_handle/2;t.shad_from[0].style.display="block";t.shad_from[0].style.left=o+"%";t.shad_from[0].style.width=a+"%"}else{t.shad_from[0].style.display="none"}if(e.to_shadow&&(r||n)){l=this.convertToPercent(r?e.to_min:e.min);c=this.convertToPercent(n?e.to_max:e.max)-l;l=this.toFixed(l-this.coords.p_handle/100*l);c=this.toFixed(c-this.coords.p_handle/100*c);l=l+this.coords.p_handle/2;t.shad_to[0].style.display="block";t.shad_to[0].style.left=l+"%";t.shad_to[0].style.width=c+"%"}else{t.shad_to[0].style.display="none"}}},callOnStart:function(){if(this.options.onStart&&typeof this.options.onStart==="function"){this.options.onStart(this.result)}},callOnChange:function(){if(this.options.onChange&&typeof this.options.onChange==="function"){this.options.onChange(this.result)}},callOnFinish:function(){if(this.options.onFinish&&typeof this.options.onFinish==="function"){this.options.onFinish(this.result)}},callOnUpdate:function(){if(this.options.onUpdate&&typeof this.options.onUpdate==="function"){this.options.onUpdate(this.result)}},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(e,t){var i=this.options.max-this.options.min,s=i/100,r,n;if(!i){this.no_diapason=true;return 0}if(t){r=e}else{r=e-this.options.min}n=r/s;return this.toFixed(n)},convertToValue:function(e){var t=this.options.min,i=this.options.max,s=t.toString().split(".")[1],r=i.toString().split(".")[1],n,o,a=0,l=0;if(e===0){return this.options.min}if(e===100){return this.options.max}if(s){n=s.length;a=n}if(r){o=r.length;a=o}if(n&&o){a=n>=o?n:o}if(t<0){l=Math.abs(t);t=+(t+l).toFixed(a);i=+(i+l).toFixed(a)}var c=(i-t)/100*e+t,f=this.options.step.toString().split(".")[1],u;if(f){c=+c.toFixed(f.length)}else{c=c/this.options.step;c=c*this.options.step;c=+c.toFixed(0)}if(l){c-=l}if(f){u=+c.toFixed(f.length)}else{u=this.toFixed(c)}if(u<this.options.min){u=this.options.min}else if(u>this.options.max){u=this.options.max}return u},calcWithStep:function(e){var t=Math.round(e/this.coords.p_step)*this.coords.p_step;if(t>100){t=100}if(e===100){t=100}return this.toFixed(t)},checkMinInterval:function(e,t,i){var s=this.options,r,n;if(!s.min_interval){return e}r=this.convertToValue(e);n=this.convertToValue(t);if(i==="from"){if(n-r<s.min_interval){r=n-s.min_interval}}else{if(r-n<s.min_interval){r=n+s.min_interval}}return this.convertToPercent(r)},checkMaxInterval:function(e,t,i){var s=this.options,r,n;if(!s.max_interval){return e}r=this.convertToValue(e);n=this.convertToValue(t);if(i==="from"){if(n-r>s.max_interval){r=n-s.max_interval}}else{if(r-n>s.max_interval){r=n+s.max_interval}}return this.convertToPercent(r)},checkDiapason:function(e,t,i){var s=this.convertToValue(e),r=this.options;if(typeof t!=="number"){t=r.min}if(typeof i!=="number"){i=r.max}if(s<t){s=t}if(s>i){s=i}return this.convertToPercent(s)},toFixed:function(e){e=e.toFixed(9);return+e},_prettify:function(e){if(!this.options.prettify_enabled){return e}if(this.options.prettify&&typeof this.options.prettify==="function"){return this.options.prettify(e)}else{return this.prettify(e)}},prettify:function(e){var t=e.toString();return t.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(e,t){if(!this.options.force_edges){return this.toFixed(e)}if(e<0){e=0}else if(e>100-t){e=100-t}return this.toFixed(e)},validate:function(){var e=this.options,t=this.result,i=e.values,s=i.length,r,n;if(typeof e.min==="string")e.min=+e.min;if(typeof e.max==="string")e.max=+e.max;if(typeof e.from==="string")e.from=+e.from;if(typeof e.to==="string")e.to=+e.to;if(typeof e.step==="string")e.step=+e.step;if(typeof e.from_min==="string")e.from_min=+e.from_min;if(typeof e.from_max==="string")e.from_max=+e.from_max;if(typeof e.to_min==="string")e.to_min=+e.to_min;if(typeof e.to_max==="string")e.to_max=+e.to_max;if(typeof e.keyboard_step==="string")e.keyboard_step=+e.keyboard_step;if(typeof e.grid_num==="string")e.grid_num=+e.grid_num;if(e.max<e.min){e.max=e.min}if(s){e.p_values=[];e.min=0;e.max=s-1;e.step=1;e.grid_num=e.max;e.grid_snap=true;for(n=0;n<s;n++){r=+i[n];if(!isNaN(r)){i[n]=r;r=this._prettify(r)}else{r=i[n]}e.p_values.push(r)}}if(typeof e.from!=="number"||isNaN(e.from)){e.from=e.min}if(typeof e.to!=="number"||isNaN(e.from)){e.to=e.max}if(e.type==="single"){if(e.from<e.min){e.from=e.min}if(e.from>e.max){e.from=e.max}}else{if(e.from<e.min||e.from>e.max){e.from=e.min}if(e.to>e.max||e.to<e.min){e.to=e.max}if(e.from>e.to){e.from=e.to}}if(typeof e.step!=="number"||isNaN(e.step)||!e.step||e.step<0){e.step=1}if(typeof e.keyboard_step!=="number"||isNaN(e.keyboard_step)||!e.keyboard_step||e.keyboard_step<0){e.keyboard_step=5}if(typeof e.from_min==="number"&&e.from<e.from_min){e.from=e.from_min}if(typeof e.from_max==="number"&&e.from>e.from_max){e.from=e.from_max}if(typeof e.to_min==="number"&&e.to<e.to_min){e.to=e.to_min}if(typeof e.to_max==="number"&&e.from>e.to_max){e.to=e.to_max}if(t){if(t.min!==e.min){t.min=e.min}if(t.max!==e.max){t.max=e.max}if(t.from<t.min||t.from>t.max){t.from=e.from}if(t.to<t.min||t.to>t.max){t.to=e.to}}if(typeof e.min_interval!=="number"||isNaN(e.min_interval)||!e.min_interval||e.min_interval<0){e.min_interval=0}if(typeof e.max_interval!=="number"||isNaN(e.max_interval)||!e.max_interval||e.max_interval<0){e.max_interval=0}if(e.min_interval&&e.min_interval>e.max-e.min){e.min_interval=e.max-e.min}if(e.max_interval&&e.max_interval>e.max-e.min){e.max_interval=e.max-e.min}},decorate:function(e,t){var i="",s=this.options;if(s.prefix){i+=s.prefix}i+=e;if(s.max_postfix){if(s.values.length&&e===s.p_values[s.max]){i+=s.max_postfix;if(s.postfix){i+=" "}}else if(t===s.max){i+=s.max_postfix;if(s.postfix){i+=" "}}}if(s.postfix){i+=s.postfix}return i},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);if(this.options.values){this.result.from_value=this.options.values[this.result.from]}},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);if(this.options.values){this.result.to_value=this.options.values[this.result.to]}},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(!this.options.grid){return}var e=this.options,t,i,s=e.max-e.min,r=e.grid_num,n=0,o=0,a=4,l,c,f=0,u,d="";this.calcGridMargin();if(e.grid_snap){r=s/e.step;n=this.toFixed(e.step/(s/100))}else{n=this.toFixed(100/r)}if(r>4){a=3}if(r>7){a=2}if(r>14){a=1}if(r>28){a=0}for(t=0;t<r+1;t++){l=a;o=this.toFixed(n*t);if(o>100){o=100;l-=2;if(l<0){l=0}}this.coords.big[t]=o;c=(o-n*(t-1))/(l+1);for(i=1;i<=l;i++){if(o===0){break}f=this.toFixed(o-c*i);d+='<span class="irs-grid-pol small" style="left: '+f+'%"></span>'}d+='<span class="irs-grid-pol" style="left: '+o+'%"></span>';u=this.convertToValue(o);if(e.values.length){u=e.p_values[u]}else{u=this._prettify(u)}d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+o+'%">'+u+"</span>"}this.coords.big_num=Math.ceil(r+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(d);this.cacheGridLabels()},cacheGridLabels:function(){var e,t,i=this.coords.big_num;for(t=0;t<i;t++){e=this.$cache.grid.find(".js-grid-text-"+t);this.$cache.grid_labels.push(e)}this.calcGridLabels()},calcGridLabels:function(){var e,t,i=[],s=[],r=this.coords.big_num;for(e=0;e<r;e++){this.coords.big_w[e]=this.$cache.grid_labels[e].outerWidth(false);this.coords.big_p[e]=this.toFixed(this.coords.big_w[e]/this.coords.w_rs*100);this.coords.big_x[e]=this.toFixed(this.coords.big_p[e]/2);i[e]=this.toFixed(this.coords.big[e]-this.coords.big_x[e]);s[e]=this.toFixed(i[e]+this.coords.big_p[e])}if(this.options.force_edges){if(i[0]<-this.coords.grid_gap){i[0]=-this.coords.grid_gap;s[0]=this.toFixed(i[0]+this.coords.big_p[0]);this.coords.big_x[0]=this.coords.grid_gap}if(s[r-1]>100+this.coords.grid_gap){s[r-1]=100+this.coords.grid_gap;i[r-1]=this.toFixed(s[r-1]-this.coords.big_p[r-1]);this.coords.big_x[r-1]=this.toFixed(this.coords.big_p[r-1]-this.coords.grid_gap)}}this.calcGridCollision(2,i,s);this.calcGridCollision(4,i,s);for(e=0;e<r;e++){t=this.$cache.grid_labels[e][0];t.style.marginLeft=-this.coords.big_x[e]+"%"}},calcGridCollision:function(e,t,i){var s,r,n,o=this.coords.big_num;for(s=0;s<o;s+=e){r=s+e/2;if(r>=o){break}n=this.$cache.grid_labels[r][0];if(i[s]<=t[r]){n.style.visibility="visible"}else{n.style.visibility="hidden"}}},calcGridMargin:function(){if(!this.options.grid_margin){return}this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1);this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%";this.$cache.grid[0].style.left=this.coords.grid_gap+"%"},update:function(t){if(!this.input){return}this.is_update=true;this.options.from=this.result.from;this.options.to=this.result.to;this.options=e.extend(this.options,t);this.validate();this.updateResult(t);this.toggleInput();this.remove();this.init(true)},reset:function(){if(!this.input){return}this.updateResult();this.update()},destroy:function(){if(!this.input){return}this.toggleInput();this.$cache.input.prop("readonly",false);e.data(this.input,"ionRangeSlider",null);this.remove();this.input=null;this.options=null}};e.fn.ionRangeSlider=function(t){return this.each(function(){if(!e.data(this,"ionRangeSlider")){e.data(this,"ionRangeSlider",new u(this,t,n++))}})};(function(){var e=0;var t=["ms","moz","webkit","o"];for(var s=0;s<t.length&&!i.requestAnimationFrame;++s){i.requestAnimationFrame=i[t[s]+"RequestAnimationFrame"];i.cancelAnimationFrame=i[t[s]+"CancelAnimationFrame"]||i[t[s]+"CancelRequestAnimationFrame"]}if(!i.requestAnimationFrame)i.requestAnimationFrame=function(t,s){var r=(new Date).getTime();var n=Math.max(0,16-(r-e));var o=i.setTimeout(function(){t(r+n)},n);e=r+n;return o};if(!i.cancelAnimationFrame)i.cancelAnimationFrame=function(e){clearTimeout(e)}})()})(jQuery,document,window,navigator);(function($){if($.fn.carouFredSel){return}$.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0],starting_position=false;if($cfs.data("_cfs_isCarousel")){starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",true])}var FN={};FN._init=function(e,t,i){e=go_getObject($tt0,e);e.items=go_getItemsObject($tt0,e.items);e.scroll=go_getScrollObject($tt0,e.scroll);e.auto=go_getAutoObject($tt0,e.auto);e.prev=go_getPrevNextObject($tt0,e.prev);e.next=go_getPrevNextObject($tt0,e.next);e.pagination=go_getPaginationObject($tt0,e.pagination);e.swipe=go_getSwipeObject($tt0,e.swipe);e.mousewheel=go_getMousewheelObject($tt0,e.mousewheel);if(t){opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,e)}opts=$.extend(true,{},$.fn.carouFredSel.defaults,e);opts.d=cf_getDimensions(opts);crsl.direction=opts.direction=="up"||opts.direction=="left"?"next":"prev";var s=$cfs.children(),r=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)){opts.cookie="caroufredsel_cookie_"+conf.serialNumber}opts.maxDimension=ms_getMaxDimension(opts,r);opts.items=in_complementItems(opts.items,opts,s,i);opts[opts.d["width"]]=in_complementPrimarySize(opts[opts.d["width"]],opts,s);opts[opts.d["height"]]=in_complementSecondarySize(opts[opts.d["height"]],opts,s);if(opts.responsive){if(!is_percentage(opts[opts.d["width"]])){opts[opts.d["width"]]="100%"}}if(is_percentage(opts[opts.d["width"]])){crsl.upDateOnWindowResize=true;crsl.primarySizePercentage=opts[opts.d["width"]];opts[opts.d["width"]]=ms_getPercentage(r,crsl.primarySizePercentage);if(!opts.items.visible){opts.items.visibleConf.variable=true}}if(opts.responsive){opts.usePadding=false;opts.padding=[0,0,0,0];opts.align=false;opts.items.visibleConf.variable=false}else{if(!opts.items.visible){opts=in_complementVisibleItems(opts,r)}if(!opts[opts.d["width"]]){if(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d["width"]])&&opts.items.filter=="*"){opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];opts.align=false}else{opts[opts.d["width"]]="variable"}}if(is_undefined(opts.align)){opts.align=is_number(opts[opts.d["width"]])?"center":false}if(opts.items.visibleConf.variable){opts.items.visible=gn_getVisibleItemsNext(s,opts,0)}}if(opts.items.filter!="*"&&!opts.items.visibleConf.variable){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(s,opts,0)}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;if(opts.responsive){if(!opts.items.visibleConf.min){opts.items.visibleConf.min=opts.items.visible}if(!opts.items.visibleConf.max){opts.items.visibleConf.max=opts.items.visible}opts=in_getResponsiveValues(opts,s,r)}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top"){opts.align="left"}else if(opts.align=="bottom"){opts.align="right"}switch(opts.align){case"center":case"left":case"right":if(opts[opts.d["width"]]!="variable"){opts=in_getAlignPadding(opts,s);opts.usePadding=true}break;default:opts.align=false;opts.usePadding=opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0?false:true;break}}if(!is_number(opts.scroll.duration)){opts.scroll.duration=500}if(is_undefined(opts.scroll.items)){opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||opts.items.filter!="*"?"visible":opts.items.visible}opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);opts.auto=go_complementAutoObject($tt0,opts.auto);opts.prev=go_complementPrevNextObject($tt0,opts.prev);opts.next=go_complementPrevNextObject($tt0,opts.next);opts.pagination=go_complementPaginationObject($tt0,opts.pagination);opts.swipe=go_complementSwipeObject($tt0,opts.swipe);opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel);if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(opts.auto.onPauseStart){opts.auto.onTimeoutStart=opts.auto.onPauseStart;deprecated("auto.onPauseStart","auto.onTimeoutStart")}if(opts.auto.onPausePause){opts.auto.onTimeoutPause=opts.auto.onPausePause;deprecated("auto.onPausePause","auto.onTimeoutPause")}if(opts.auto.onPauseEnd){opts.auto.onTimeoutEnd=opts.auto.onPauseEnd;deprecated("auto.onPauseEnd","auto.onTimeoutEnd")}if(opts.auto.pauseDuration){opts.auto.timeoutDuration=opts.auto.pauseDuration;deprecated("auto.pauseDuration","auto.timeoutDuration")}};FN._build=function(){$cfs.data("_cfs_isCarousel",true);var e=$cfs.children(),t=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),i="relative";switch(t.position){case"absolute":case"fixed":i=t.position;break}if(conf.wrapper=="parent"){sz_storeOrigCss($wrp)}else{$wrp.css(t)}$wrp.css({overflow:"hidden",position:i});sz_storeOrigCss($cfs);$cfs.data("_cfs_origCssZindex",t.zIndex);$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});sz_storeMargin(e,opts);sz_storeOrigCss(e);if(opts.responsive){sz_setResponsiveSizes(opts,e)}};FN._bind_events=function(){FN._unbind_events();$cfs.bind(cf_e("stop",conf),function(e,t){e.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),t)}return true});$cfs.bind(cf_e("finish",conf),function(e){e.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(e,t,i){e.stopPropagation();tmrs=sc_clearTimers(tmrs);if(t&&crsl.isScrolling){scrl.isStopped=true;var s=getTime()-scrl.startTime;scrl.duration-=s;if(scrl.pre){scrl.pre.duration-=s}if(scrl.post){scrl.post.duration-=s}sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(i){tmrs.timePassed+=getTime()-tmrs.startTime}}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onTimeoutPause){var r=opts.auto.timeoutDuration-tmrs.timePassed,n=100-Math.ceil(r*100/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,n,r)}return true});$cfs.bind(cf_e("play",conf),function(e,t,i,s){e.stopPropagation();tmrs=sc_clearTimers(tmrs);var r=[t,i,s],n=["string","number","boolean"],o=cf_sortParams(r,n);t=o[0];i=o[1];s=o[2];if(t!="prev"&&t!="next"){t=crsl.direction}if(!is_number(i)){i=0}if(!is_boolean(s)){s=false}if(s){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){e.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var a=opts.auto.timeoutDuration+i;dur2=a-tmrs.timePassed;perc=100-Math.ceil(dur2*100/a);if(opts.auto.progress){tmrs.progress=setInterval(function(){var e=getTime()-tmrs.startTime+tmrs.timePassed,t=Math.ceil(e*100/a);opts.auto.progress.updater.call(opts.auto.progress.bar[0],t)},opts.auto.progress.interval)}tmrs.auto=setTimeout(function(){if(opts.auto.progress){opts.auto.progress.updater.call(opts.auto.progress.bar[0],100)}if(opts.auto.onTimeoutEnd){opts.auto.onTimeoutEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),t)}else{$cfs.trigger(cf_e(t,conf),opts.auto)}},dur2);if(opts.auto.onTimeoutStart){opts.auto.onTimeoutStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(e){e.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl,conf)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,t,i,s,r){e.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){e.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}var n=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(n>itms.total){e.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+" total, "+n+" needed): Not scrolling.")}var o=[t,i,s,r],a=["object","number/string","function","boolean"],l=cf_sortParams(o,a);t=l[0];i=l[1];s=l[2];r=l[3];var c=e.type.slice(conf.events.prefix.length);if(!is_object(t)){t={}}if(is_function(s)){t.onAfter=s}if(is_boolean(r)){t.queue=r}t=$.extend(true,{},opts[c],t);if(t.conditions&&!t.conditions.call($tt0,c)){e.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}if(!is_number(i)){if(opts.items.filter!="*"){i="visible"}else{var f=[i,t.items,opts[c].items];for(var l=0,u=f.length;l<u;l++){if(is_number(f[l])||f[l]=="page"||f[l]=="visible"){i=f[l];break}}}switch(i){case"page":e.stopImmediatePropagation();return $cfs.triggerHandler(cf_e(c+"Page",conf),[t,s]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){i=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[c,[t,i,s]]);e.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(t.duration>0){if(crsl.isScrolling){if(t.queue){if(t.queue=="last"){queu=[]}if(t.queue!="first"||queu.length==0){$cfs.trigger(cf_e("queue",conf),[c,[t,i,s]])}}e.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+c,conf),[t,i]);if(opts.synchronise){var d=opts.synchronise,p=[t,i];for(var h=0,u=d.length;h<u;h++){var m=c;if(!d[h][2]){m=m=="prev"?"next":"prev"}if(!d[h][1]){p[0]=d[h][0].triggerHandler("_cfs_triggerEvent",["configuration",m])}p[1]=i+d[h][3];d[h][0].trigger("_cfs_triggerEvent",["slide_"+m,p])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(e,t,i){e.stopPropagation();var s=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(s,opts);if(!is_number(i)){if(opts.items.visibleConf.variable){i=gn_getVisibleItemsPrev(s,opts,itms.total-1)}else if(opts.items.filter!="*"){var r=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsPrevFilter(s,opts,itms.total-1,r)}else{i=opts.items.visible}i=cf_getAdjust(i,opts,t.items,$tt0)}if(!opts.circular){if(itms.total-i<itms.first){i=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var n=cf_getItemsAdjust(gn_getVisibleItemsNext(s,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0);if(opts.items.visible+i<=n&&i<itms.total){i++;n=cf_getItemsAdjust(gn_getVisibleItemsNext(s,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0);
}opts.items.visible=n}else if(opts.items.filter!="*"){var n=gn_getVisibleItemsNextFilter(s,opts,itms.total-i);opts.items.visible=cf_getItemsAdjust(n,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(s,opts,true);if(i==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+i+" items backward.");itms.first+=i;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&t.onEnd){t.onEnd.call($tt0,"prev")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}$cfs.children().slice(itms.total-i,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+i){$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(true).appendTo($cfs)}var s=$cfs.children(),o=gi_getOldItemsPrev(s,opts,i),a=gi_getNewItemsPrev(s,opts),l=s.eq(i-1),c=o.last(),f=a.last();sz_resetMargin(s,opts);var u=0,d=0;if(opts.align){var p=cf_getAlignPadding(a,opts);u=p[0];d=p[1]}var h=u<0?opts.padding[opts.d[3]]:0;var m=false,g=$();if(opts.items.visible<i){g=s.slice(opts.items.visibleConf.old,i);if(t.fx=="directscroll"){var _=opts.items[opts.d["width"]];m=g;l=f;sc_hideHiddenItems(m);opts.items[opts.d["width"]]="variable"}}var v=false,b=ms_getTotalSize(s.slice(0,i),opts,"width"),y=cf_mapWrapperSizes(ms_getSizes(a,opts,true),opts,!opts.usePadding),w=0,x={},k={},T={},S={},C={},D={},P={},M=sc_getDuration(t,opts,i,b);switch(t.fx){case"cover":case"cover-fade":w=ms_getTotalSize(s.slice(0,opts.items.visible),opts,"width");break}if(m){opts.items[opts.d["width"]]=_}sz_resetMargin(s,opts,true);if(d>=0){sz_resetMargin(c,opts,opts.padding[opts.d[1]])}if(u>=0){sz_resetMargin(l,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=d;opts.padding[opts.d[3]]=u}D[opts.d["left"]]=-(b-h);P[opts.d["left"]]=-(w-h);k[opts.d["left"]]=y[opts.d["width"]];var I=function(){},j=function(){},F=function(){},O=function(){},A=function(){},N=function(){},E=function(){},z=function(){},H=function(){},R=function(){},q=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":v=$cfs.clone(true).appendTo($wrp);break}switch(t.fx){case"crossfade":case"uncover":case"uncover-fade":v.children().slice(0,i).remove();v.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":v.children().slice(opts.items.visible).remove();v.css(P);break}$cfs.css(D);scrl=sc_setScroll(M,t.easing,conf);x[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){I=function(){$wrp.css(y)};j=function(){scrl.anims.push([$wrp,y])}}if(opts.usePadding){if(f.not(l).length){T[opts.d["marginRight"]]=l.data("_cfs_origCssMargin");if(u<0){l.css(T)}else{E=function(){l.css(T)};z=function(){scrl.anims.push([l,T])}}}switch(t.fx){case"cover":case"cover-fade":v.children().eq(i-1).css(T);break}if(f.not(c).length){S[opts.d["marginRight"]]=c.data("_cfs_origCssMargin");F=function(){c.css(S)};O=function(){scrl.anims.push([c,S])}}if(d>=0){C[opts.d["marginRight"]]=f.data("_cfs_origCssMargin")+opts.padding[opts.d[1]];A=function(){f.css(C)};N=function(){scrl.anims.push([f,C])}}}q=function(){$cfs.css(x)};var L=opts.items.visible+i-itms.total;R=function(){if(L>0){$cfs.children().slice(itms.total).remove();o=$($cfs.children().slice(itms.total-(opts.items.visible-L)).get().concat($cfs.children().slice(0,L).get()))}sc_showHiddenItems(m);if(opts.usePadding){var e=$cfs.children().eq(opts.items.visible+i-1);e.css(opts.d["marginRight"],e.data("_cfs_origCssMargin"))}};var W=sc_mapCallbackArguments(o,g,a,i,"prev",M,y);H=function(){sc_afterScroll($cfs,v,t);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",W,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",W,clbk);switch(t.fx){case"none":$cfs.css(x);I();F();A();E();q();R();H();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){I();F();A();E();q();R();scrl=sc_setScroll(M,t.easing,conf);scrl.anims.push([$cfs,{opacity:1},H]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([v,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},H]);j();F();A();E();q();R();break;case"cover":scrl.anims.push([v,x,function(){F();A();E();q();R();H()}]);j();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]);scrl.anims.push([v,x,function(){F();A();E();q();R();H()}]);j();break;case"uncover":scrl.anims.push([v,k,H]);j();F();A();E();q();R();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([v,k,H]);j();F();A();E();q();R();break;default:scrl.anims.push([$cfs,x,function(){R();H()}]);j();O();N();z();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,y]);return true});$cfs.bind(cf_e("slide_next",conf),function(e,t,i){e.stopPropagation();var s=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(s,opts);if(!is_number(i)){if(opts.items.filter!="*"){var r=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsNextFilter(s,opts,0,r)}else{i=opts.items.visible}i=cf_getAdjust(i,opts,t.items,$tt0)}var n=itms.first==0?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var o=gn_getVisibleItemsNext(s,opts,i),r=gn_getVisibleItemsPrev(s,opts,n-1)}else{var o=opts.items.visible,r=opts.items.visible}if(i+o>n){i=n-r}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var o=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(s,opts,i,n),opts,opts.items.visibleConf.adjust,$tt0);while(opts.items.visible-i>=o&&i<itms.total){i++;o=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(s,opts,i,n),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=o}else if(opts.items.filter!="*"){var o=gn_getVisibleItemsNextFilter(s,opts,i);opts.items.visible=cf_getItemsAdjust(o,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(s,opts,true);if(i==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+i+" items forward.");itms.first-=i;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&t.onEnd){t.onEnd.call($tt0,"next")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}if(itms.total<opts.items.visible+i){$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(true).appendTo($cfs)}var s=$cfs.children(),a=gi_getOldItemsNext(s,opts),l=gi_getNewItemsNext(s,opts,i),c=s.eq(i-1),f=a.last(),u=l.last();sz_resetMargin(s,opts);var d=0,p=0;if(opts.align){var h=cf_getAlignPadding(l,opts);d=h[0];p=h[1]}var m=false,g=$();if(opts.items.visibleConf.old<i){g=s.slice(opts.items.visibleConf.old,i);if(t.fx=="directscroll"){var _=opts.items[opts.d["width"]];m=g;c=f;sc_hideHiddenItems(m);opts.items[opts.d["width"]]="variable"}}var v=false,b=ms_getTotalSize(s.slice(0,i),opts,"width"),y=cf_mapWrapperSizes(ms_getSizes(l,opts,true),opts,!opts.usePadding),w=0,x={},k={},T={},S={},C={},D=sc_getDuration(t,opts,i,b);switch(t.fx){case"uncover":case"uncover-fade":w=ms_getTotalSize(s.slice(0,opts.items.visibleConf.old),opts,"width");break}if(m){opts.items[opts.d["width"]]=_}if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}sz_resetMargin(s,opts,true);sz_resetMargin(f,opts,opts.padding[opts.d[1]]);if(opts.align){opts.padding[opts.d[1]]=p;opts.padding[opts.d[3]]=d}C[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;var P=function(){},M=function(){},I=function(){},j=function(){},F=function(){},O=function(){},A=function(){},N=function(){},E=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":v=$cfs.clone(true).appendTo($wrp);v.children().slice(opts.items.visibleConf.old).remove();break}switch(t.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1);v.css("zIndex",0);break}scrl=sc_setScroll(D,t.easing,conf);x[opts.d["left"]]=-b;k[opts.d["left"]]=-w;if(d<0){x[opts.d["left"]]+=d}if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){P=function(){$wrp.css(y)};M=function(){scrl.anims.push([$wrp,y])}}if(opts.usePadding){var z=u.data("_cfs_origCssMargin");if(p>=0){z+=opts.padding[opts.d[1]]}u.css(opts.d["marginRight"],z);if(c.not(f).length){S[opts.d["marginRight"]]=f.data("_cfs_origCssMargin")}I=function(){f.css(S)};j=function(){scrl.anims.push([f,S])};var H=c.data("_cfs_origCssMargin");if(d>0){H+=opts.padding[opts.d[3]]}T[opts.d["marginRight"]]=H;F=function(){c.css(T)};O=function(){scrl.anims.push([c,T])}}E=function(){$cfs.css(C)};var R=opts.items.visible+i-itms.total;N=function(){if(R>0){$cfs.children().slice(itms.total).remove()}var e=$cfs.children().slice(0,i).appendTo($cfs).last();if(R>0){l=gi_getCurrentItems(s,opts)}sc_showHiddenItems(m);if(opts.usePadding){if(itms.total<opts.items.visible+i){var t=$cfs.children().eq(opts.items.visible-1);t.css(opts.d["marginRight"],t.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}e.css(opts.d["marginRight"],e.data("_cfs_origCssMargin"))}};var q=sc_mapCallbackArguments(a,g,l,i,"next",D,y);A=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex"));sc_afterScroll($cfs,v,t);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",q,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",q,clbk);switch(t.fx){case"none":$cfs.css(x);P();I();F();E();N();A();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){P();I();F();E();N();scrl=sc_setScroll(D,t.easing,conf);scrl.anims.push([$cfs,{opacity:1},A]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([v,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},A]);M();I();F();E();N();break;case"cover":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([$cfs,C,A]);M();I();F();N();break;case"cover-fade":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([v,{opacity:0}]);scrl.anims.push([$cfs,C,A]);M();I();F();N();break;case"uncover":scrl.anims.push([v,k,A]);M();I();F();E();N();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([v,k,A]);M();I();F();E();N();break;default:scrl.anims.push([$cfs,x,function(){E();N();A()}]);M();j();O();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,y]);return true});$cfs.bind(cf_e("slideTo",conf),function(e,t,i,s,r,n,o){e.stopPropagation();var a=[t,i,s,r,n,o],l=["string/number/object","number","boolean","object","string","function"],c=cf_sortParams(a,l);r=c[3];n=c[4];o=c[5];t=gn_getItemIndex(c[0],c[1],c[2],itms,$cfs);if(t==0){return false}if(!is_object(r)){r=false}if(n!="prev"&&n!="next"){if(opts.circular){n=t<=itms.total/2?"next":"prev"}else{n=itms.first==0||itms.first>t?"next":"prev"}}if(n=="prev"){t=itms.total-t}$cfs.trigger(cf_e(n,conf),[r,t,o]);return true});$cfs.bind(cf_e("prevPage",conf),function(e,t,i){e.stopPropagation();var s=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[s-1,t,"prev",i])});$cfs.bind(cf_e("nextPage",conf),function(e,t,i){e.stopPropagation();var s=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[s+1,t,"next",i])});$cfs.bind(cf_e("slideToPage",conf),function(e,t,i,s,r){e.stopPropagation();if(!is_number(t)){t=$cfs.triggerHandler(cf_e("currentPage",conf))}var n=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/n)-1;if(t<0){t=o}if(t>o){t=0}return $cfs.triggerHandler(cf_e("slideTo",conf),[t*n,0,true,i,s,r])});$cfs.bind(cf_e("jumpToStart",conf),function(e,t){e.stopPropagation();if(t){t=gn_getItemIndex(t,0,true,itms,$cfs)}else{t=0}t+=itms.first;if(t!=0){if(itms.total>0){while(t>itms.total){t-=itms.total}}$cfs.prepend($cfs.children().slice(t,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(e,t){e.stopPropagation();if(t){t=cf_getSynchArr(t)}else if(opts.synchronise){t=opts.synchronise}else{return debug(conf,"No carousel to synchronise.")}var i=$cfs.triggerHandler(cf_e("currentPosition",conf)),s=true;for(var r=0,n=t.length;r<n;r++){if(!t[r][0].triggerHandler(cf_e("slideTo",conf),[i,t[r][3],true])){s=false}}return s});$cfs.bind(cf_e("queue",conf),function(e,t,i){e.stopPropagation();if(is_function(t)){t.call($tt0,queu)}else if(is_array(t)){queu=t}else if(!is_undefined(t)){queu.push([t,i])}return queu});$cfs.bind(cf_e("insertItem",conf),function(e,t,i,s,r){e.stopPropagation();var n=[t,i,s,r],o=["string/object","string/number/object","boolean","number"],a=cf_sortParams(n,o);t=a[0];i=a[1];s=a[2];r=a[3];if(is_object(t)&&!is_jquery(t)){t=$(t)}else if(is_string(t)){t=$(t)}if(!is_jquery(t)||t.length==0){return debug(conf,"Not a valid object.")}if(is_undefined(i)){i="end"}sz_storeMargin(t,opts);sz_storeOrigCss(t);var l=i,c="before";if(i=="end"){if(s){if(itms.first==0){i=itms.total-1;c="after"}else{i=itms.first;itms.first+=t.length}if(i<0){i=0}}else{i=itms.total-1;c="after"}}else{i=gn_getItemIndex(i,r,s,itms,$cfs)}var f=$cfs.children().eq(i);if(f.length){f[c](t)}else{debug(conf,"Correct insert-position not found! Appending item to the end.");$cfs.append(t)}if(l!="end"&&!s){if(i<itms.first){itms.first+=t.length}}itms.total=$cfs.children().length;if(itms.first>=itms.total){itms.first-=itms.total}$cfs.trigger(cf_e("updateSizes",conf));$cfs.trigger(cf_e("linkAnchors",conf));return true});$cfs.bind(cf_e("removeItem",conf),function(e,t,i,s){e.stopPropagation();var r=[t,i,s],n=["string/number/object","boolean","number"],o=cf_sortParams(r,n);t=o[0];i=o[1];s=o[2];var a=false;if(t instanceof $&&t.length>1){l=$();t.each(function(e,t){var r=$cfs.trigger(cf_e("removeItem",conf),[$(this),i,s]);if(r){l=l.add(r)}});return l}if(is_undefined(t)||t=="end"){l=$cfs.children().last()}else{t=gn_getItemIndex(t,s,i,itms,$cfs);var l=$cfs.children().eq(t);if(l.length){if(t<itms.first){itms.first-=l.length}}}if(l&&l.length){l.detach();itms.total=$cfs.children().length;$cfs.trigger(cf_e("updateSizes",conf))}return l});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,t){e.stopPropagation();var i=e.type.slice(conf.events.prefix.length);if(is_array(t)){clbk[i]=t}if(is_function(t)){clbk[i].push(t)}return clbk[i]});$cfs.bind(cf_e("currentPosition",conf),function(e,t){e.stopPropagation();if(itms.first==0){var i=0}else{var i=itms.total-itms.first}if(is_function(t)){t.call($tt0,i)}return i});$cfs.bind(cf_e("currentPage",conf),function(e,t){e.stopPropagation();var i=opts.pagination.items||opts.items.visible,s=Math.ceil(itms.total/i-1),r;if(itms.first==0){r=0}else if(itms.first<itms.total%i){r=0}else if(itms.first==i&&!opts.circular){r=s}else{r=Math.round((itms.total-itms.first)/i)}if(r<0){r=0}if(r>s){r=s}if(is_function(t)){t.call($tt0,r)}return r});$cfs.bind(cf_e("currentVisible",conf),function(e,t){e.stopPropagation();var i=gi_getCurrentItems($cfs.children(),opts);if(is_function(t)){t.call($tt0,i)}return i});$cfs.bind(cf_e("slice",conf),function(e,t,i,s){e.stopPropagation();if(itms.total==0){return false}var r=[t,i,s],n=["number","number","function"],o=cf_sortParams(r,n);t=is_number(o[0])?o[0]:0;i=is_number(o[1])?o[1]:itms.total;s=o[2];t+=itms.first;i+=itms.first;if(items.total>0){while(t>itms.total){t-=itms.total}while(i>itms.total){i-=itms.total}while(t<0){t+=itms.total}while(i<0){i+=itms.total}}var a=$cfs.children(),l;if(i>t){l=a.slice(t,i)}else{l=$(a.slice(t,itms.total).get().concat(a.slice(0,i).get()))}if(is_function(s)){s.call($tt0,l)}return l});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,t){e.stopPropagation();var i=e.type.slice(conf.events.prefix.length),s=crsl[i];if(is_function(t)){t.call($tt0,s)}return s});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(is_function(a)){a.call($tt0,opts)}else if(is_object(a)){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false)reInit=true;else opts=$.extend(true,{},opts,a)}else if(!is_undefined(a)){if(is_function(b)){var val=eval("opts."+a);if(is_undefined(val)){val=""}b.call($tt0,val)}else if(!is_undefined(b)){if(typeof c!=="boolean")c=true;eval("opts_orig."+a+" = b");if(c!==false)reInit=true;else eval("opts."+a+" = b")}else{return eval("opts."+a)}}if(reInit){sz_resetMargin($cfs.children(),opts);FN._init(opts_orig);FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(e,t,i){e.stopPropagation();if(is_undefined(t)){t=$("body")}else if(is_string(t)){t=$(t)}if(!is_jquery(t)||t.length==0){return debug(conf,"Not a valid object.")}if(!is_string(i)){i="a.caroufredsel"}t.find(i).each(function(){var e=this.hash||"";if(e.length>0&&$cfs.children().index($(e))!=-1){$(this).unbind("click").click(function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),e)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(e,t,i){e.stopPropagation();if(!opts.pagination.container){return}var s=opts.pagination.items||opts.items.visible,r=Math.ceil(itms.total/s);if(t){if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var e=0;e<r;e++){var t=$cfs.children().eq(gn_getItemIndex(e*s,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(t[0],e+1))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(e){$(this).bind(opts.pagination.event,function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[e*s,-opts.pagination.deviation,true,opts.pagination])})})})}var n=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;if(n>=r){n=0}if(n<0){n=r-1}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(n).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(e){var t=opts.items.visible,i=$cfs.children(),s=ms_getParentSize($wrp,opts,"width");itms.total=i.length;if(crsl.primarySizePercentage){opts.maxDimension=s;opts[opts.d["width"]]=ms_getPercentage(s,crsl.primarySizePercentage)}else{opts.maxDimension=ms_getMaxDimension(opts,s)}if(opts.responsive){opts.items.width=opts.items.sizesConf.width;opts.items.height=opts.items.sizesConf.height;opts=in_getResponsiveValues(opts,i,s);t=opts.items.visible;sz_setResponsiveSizes(opts,i)}else if(opts.items.visibleConf.variable){t=gn_getVisibleItemsNext(i,opts,0)}else if(opts.items.filter!="*"){t=gn_getVisibleItemsNextFilter(i,opts,0)}if(!opts.circular&&itms.first!=0&&t>itms.first){if(opts.items.visibleConf.variable){var r=gn_getVisibleItemsPrev(i,opts,itms.first)-itms.first}else if(opts.items.filter!="*"){var r=gn_getVisibleItemsPrevFilter(i,opts,itms.first)-itms.first}else{var r=opts.items.visible-itms.first}debug(conf,"Preventing non-circular: sliding "+r+" items backward.");$cfs.trigger(cf_e("prev",conf),r)}opts.items.visible=cf_getItemsAdjust(t,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts=in_getAlignPadding(opts,i);var n=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,n]);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);return n});$cfs.bind(cf_e("destroy",conf),function(e,t){e.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("_cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(t){$cfs.trigger(cf_e("jumpToStart",conf))}sz_restoreOrigCss($cfs.children());sz_restoreOrigCss($cfs);FN._unbind_events();FN._unbind_buttons();if(conf.wrapper=="parent"){sz_restoreOrigCss($wrp)}else{$wrp.replaceWith($cfs)}return true});$cfs.bind(cf_e("debug",conf),function(e){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play){debug(conf,"Number of items scrolled automatically: "+opts.auto.items)}if(opts.prev.button){debug(conf,"Number of items scrolled backward: "+opts.prev.items)}if(opts.next.button){debug(conf,"Number of items scrolled forward: "+opts.next.items)}return conf.debug});$cfs.bind("_cfs_triggerEvent",function(e,t,i){e.stopPropagation();return $cfs.triggerHandler(cf_e(t,conf),i)})};FN._unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};FN._bind_buttons=function(){FN._unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(e){e.preventDefault();var t=false,i=null;if(crsl.isPaused){t="play"}else if(opts.auto.pauseOnEvent){t="pause";i=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}if(t){$cfs.trigger(cf_e(t,conf),i)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var t=e.keyCode;if(t==opts.next.key){e.preventDefault();$cfs.trigger(cf_e("next",conf))}if(t==opts.prev.key){e.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var t=e.keyCode;if(t>=49&&t<58){t=(t-49)*opts.items.visible;if(t<=itms.total){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[t,0,true,opts.pagination])}}})}if($.fn.swipe){var t="ontouchstart"in window;if(t&&opts.swipe.onTouch||!t&&opts.swipe.onMouse){var i=$.extend(true,{},opts.prev,opts.swipe),s=$.extend(true,{},opts.next,opts.swipe),r=function(){$cfs.trigger(cf_e("prev",conf),[i])},n=function(){$cfs.trigger(cf_e("next",conf),[s])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=n;opts.swipe.options.swipeDown=r;break;default:opts.swipe.options.swipeLeft=n;opts.swipe.options.swipeRight=r}if(crsl.swipe){$cfs.swipe("destroy")}$wrp.swipe(opts.swipe.options);$wrp.css("cursor","move");crsl.swipe=true}}if($.fn.mousewheel){if(opts.mousewheel){var o=$.extend(true,{},opts.prev,opts.mousewheel),a=$.extend(true,{},opts.next,opts.mousewheel);if(crsl.mousewheel){$wrp.unbind(cf_e("mousewheel",conf,false))}$wrp.bind(cf_e("mousewheel",conf,false),function(e,t){e.preventDefault();if(t>0){$cfs.trigger(cf_e("prev",conf),[o])}else{$cfs.trigger(cf_e("next",conf),[a])}});crsl.mousewheel=true}}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var l=function(e){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs.trigger(cf_e("updateSizes",conf))};var c=$(window),f=null;if($.debounce&&conf.onWindowResize=="debounce"){f=$.debounce(200,l)}else if($.throttle&&conf.onWindowResize=="throttle"){f=$.throttle(300,l)}else{var u=0,d=0;f=function(){var e=c.width(),t=c.height();if(e!=u||t!=d){l();u=e;d=t}}}c.bind(cf_e("resize",conf,false,true,true),f)}};FN._unbind_buttons=function(){var e=cf_e("",conf),t=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(t);if(opts.auto.button){opts.auto.button.unbind(t)}if(opts.prev.button){opts.prev.button.unbind(t)}if(opts.next.button){opts.next.button.unbind(t)}if(opts.pagination.container){opts.pagination.container.unbind(t);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}if(crsl.swipe){$cfs.swipe("destroy");$wrp.css("cursor","default");crsl.swipe=false}if(crsl.mousewheel){crsl.mousewheel=false}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};if(is_boolean(configs)){configs={debug:configs}}var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheel:false,swipe:false},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(true,{},options),$wrp=conf.wrapper=="parent"?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;conf.transition=conf.transition&&$.fn.transition?"transition":"animate";FN._init(opts_orig,true,starting_position);FN._build();FN._bind_events();FN._bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else if(s==="random"){s=Math.floor(Math.random()*itms.total)}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm})}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));if(conf.debug){$cfs.trigger(cf_e("debug",conf))}return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,transition:false,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(e){return'<a href="#"><span>'+e+"</span></a>"};$.fn.carouFredSel.progressbarUpdater=function(e){$(this).css("width",e+"%")};$.fn.carouFredSel.cookie={get:function(e){e+="=";var t=document.cookie.split(";");for(var i=0,s=t.length;i<s;i++){var r=t[i];while(r.charAt(0)==" "){r=r.slice(1)}if(r.indexOf(e)==0){return r.slice(e.length)}}return 0},set:function(e,t,i){var s="";if(i){var r=new Date;r.setTime(r.getTime()+i*24*60*60*1e3);s="; expires="+r.toGMTString()}document.cookie=e+"="+t+s+"; path=/"},remove:function(e){$.fn.carouFredSel.cookie.set(e,"",-1)}};function sc_setScroll(e,t,i){if(i.transition=="transition"){if(t=="swing"){t="ease"}}return{anims:[],duration:e,orgDuration:e,easing:t,startTime:getTime()}}function sc_startScroll(e,t){for(var i=0,s=e.anims.length;i<s;i++){var r=e.anims[i];if(!r){continue}r[0][t.transition](r[1],e.duration,e.easing,r[2])}}function sc_stopScroll(e,t){if(!is_boolean(t)){t=true}if(is_object(e.pre)){sc_stopScroll(e.pre,t)}for(var i=0,s=e.anims.length;i<s;i++){var r=e.anims[i];r[0].stop(true);if(t){r[0].css(r[1]);if(is_function(r[2])){r[2]()}}}if(is_object(e.post)){sc_stopScroll(e.post,t)}}function sc_afterScroll(e,t,i){if(t){t.remove()}switch(i.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":e.css("opacity",1);e.css("filter","");break}}function sc_fireCallbacks(e,t,i,s,r){if(t[i]){t[i].call(e,s)}if(r[i].length){for(var n=0,o=r[i].length;n<o;n++){r[i][n].call(e,s)}}return[]}function sc_fireQueue(e,t,i){if(t.length){e.trigger(cf_e(t[0][0],i),t[0][1]);t.shift()}return t}function sc_hideHiddenItems(e){e.each(function(){var e=$(this);e.data("_cfs_isHidden",e.is(":hidden")).hide()})}function sc_showHiddenItems(e){if(e){e.each(function(){var e=$(this);if(!e.data("_cfs_isHidden")){e.show()}})}}function sc_clearTimers(e){if(e.auto){clearTimeout(e.auto)}if(e.progress){clearInterval(e.progress)}return e}function sc_mapCallbackArguments(e,t,i,s,r,n,o){return{width:o.width,height:o.height,items:{old:e,skipped:t,visible:i},scroll:{items:s,direction:r,duration:n}}}function sc_getDuration(e,t,i,s){var r=e.duration;if(e.fx=="none"){return 0}if(r=="auto"){r=t.scroll.duration/t.scroll.items*i}else if(r<10){r=s/r}if(r<1){return 0}if(e.fx=="fade"){r=r/2}return Math.round(r)}function nv_showNavi(e,t,i){var s=is_number(e.items.minimum)?e.items.minimum:e.items.visible+1;if(t=="show"||t=="hide"){var r=t}else if(s>t){debug(i,"Not enough items ("+t+" total, "+s+" needed): Hiding navigation.");var r="hide"}else{var r="show"}var n=r=="show"?"removeClass":"addClass",o=cf_c("hidden",i);if(e.auto.button){e.auto.button[r]()[n](o)}if(e.prev.button){e.prev.button[r]()[n](o)}if(e.next.button){e.next.button[r]()[n](o)}if(e.pagination.container){e.pagination.container[r]()[n](o)}}function nv_enableNavi(e,t,i){if(e.circular||e.infinite)return;var s=t=="removeClass"||t=="addClass"?t:false,r=cf_c("disabled",i);if(e.auto.button&&s){e.auto.button[s](r)}if(e.prev.button){var n=s||t==0?"addClass":"removeClass";e.prev.button[n](r)}if(e.next.button){var n=s||t==e.items.visible?"addClass":"removeClass";e.next.button[n](r)}}function go_getObject(e,t){if(is_function(t)){t=t.call(e)}else if(is_undefined(t)){t={}}return t}function go_getItemsObject(e,t){t=go_getObject(e,t);if(is_number(t)){t={visible:t}}else if(t=="variable"){t={visible:t,width:t,height:t}}else if(!is_object(t)){t={}}return t}function go_getScrollObject(e,t){t=go_getObject(e,t);if(is_number(t)){if(t<=50){t={items:t}}else{t={duration:t}}}else if(is_string(t)){t={easing:t}}else if(!is_object(t)){t={}}return t}function go_getNaviObject(e,t){t=go_getObject(e,t);if(is_string(t)){var i=cf_getKeyCode(t);if(i==-1){t=$(t)}else{t=i}}return t}function go_getAutoObject(e,t){t=go_getNaviObject(e,t);if(is_jquery(t)){t={button:t}}else if(is_boolean(t)){t={play:t}}else if(is_number(t)){t={timeoutDuration:t}}if(t.progress){if(is_string(t.progress)||is_jquery(t.progress)){t.progress={bar:t.progress}}}return t}function go_complementAutoObject(e,t){if(is_function(t.button)){t.button=t.button.call(e)}if(is_string(t.button)){t.button=$(t.button)}if(!is_boolean(t.play)){t.play=true}if(!is_number(t.delay)){t.delay=0}if(is_undefined(t.pauseOnEvent)){t.pauseOnEvent=true}if(!is_boolean(t.pauseOnResize)){t.pauseOnResize=true}if(!is_number(t.timeoutDuration)){t.timeoutDuration=t.duration<10?2500:t.duration*5}if(t.progress){if(is_function(t.progress.bar)){t.progress.bar=t.progress.bar.call(e)}if(is_string(t.progress.bar)){t.progress.bar=$(t.progress.bar)}if(t.progress.bar){if(!is_function(t.progress.updater)){t.progress.updater=$.fn.carouFredSel.progressbarUpdater}if(!is_number(t.progress.interval)){
t.progress.interval=50}}else{t.progress=false}}return t}function go_getPrevNextObject(e,t){t=go_getNaviObject(e,t);if(is_jquery(t)){t={button:t}}else if(is_number(t)){t={key:t}}return t}function go_complementPrevNextObject(e,t){if(is_function(t.button)){t.button=t.button.call(e)}if(is_string(t.button)){t.button=$(t.button)}if(is_string(t.key)){t.key=cf_getKeyCode(t.key)}return t}function go_getPaginationObject(e,t){t=go_getNaviObject(e,t);if(is_jquery(t)){t={container:t}}else if(is_boolean(t)){t={keys:t}}return t}function go_complementPaginationObject(e,t){if(is_function(t.container)){t.container=t.container.call(e)}if(is_string(t.container)){t.container=$(t.container)}if(!is_number(t.items)){t.items=false}if(!is_boolean(t.keys)){t.keys=false}if(!is_function(t.anchorBuilder)&&!is_false(t.anchorBuilder)){t.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder}if(!is_number(t.deviation)){t.deviation=0}return t}function go_getSwipeObject(e,t){if(is_function(t)){t=t.call(e)}if(is_undefined(t)){t={onTouch:false}}if(is_true(t)){t={onTouch:t}}else if(is_number(t)){t={items:t}}return t}function go_complementSwipeObject(e,t){if(!is_boolean(t.onTouch)){t.onTouch=true}if(!is_boolean(t.onMouse)){t.onMouse=false}if(!is_object(t.options)){t.options={}}if(!is_boolean(t.options.triggerOnTouchEnd)){t.options.triggerOnTouchEnd=false}return t}function go_getMousewheelObject(e,t){if(is_function(t)){t=t.call(e)}if(is_true(t)){t={}}else if(is_number(t)){t={items:t}}else if(is_undefined(t)){t=false}return t}function go_complementMousewheelObject(e,t){return t}function gn_getItemIndex(e,t,i,s,r){if(is_string(e)){e=$(e,r)}if(is_object(e)){e=$(e,r)}if(is_jquery(e)){e=r.children().index(e);if(!is_boolean(i)){i=false}}else{if(!is_boolean(i)){i=true}}if(!is_number(e)){e=0}if(!is_number(t)){t=0}if(i){e+=s.first}e+=t;if(s.total>0){while(e>=s.total){e-=s.total}while(e<0){e+=s.total}}return e}function gn_getVisibleItemsPrev(e,t,i){var s=0,r=0;for(var n=i;n>=0;n--){var o=e.eq(n);s+=o.is(":visible")?o[t.d["outerWidth"]](true):0;if(s>t.maxDimension){return r}if(n==0){n=e.length}r++}}function gn_getVisibleItemsPrevFilter(e,t,i){return gn_getItemsPrevFilter(e,t.items.filter,t.items.visibleConf.org,i)}function gn_getScrollItemsPrevFilter(e,t,i,s){return gn_getItemsPrevFilter(e,t.items.filter,s,i)}function gn_getItemsPrevFilter(e,t,i,s){var r=0,n=0;for(var o=s,a=e.length;o>=0;o--){n++;if(n==a){return n}var l=e.eq(o);if(l.is(t)){r++;if(r==i){return n}}if(o==0){o=a}}}function gn_getVisibleOrg(e,t){return t.items.visibleConf.org||e.children().slice(0,t.items.visible).filter(t.items.filter).length}function gn_getVisibleItemsNext(e,t,i){var s=0,r=0;for(var n=i,o=e.length-1;n<=o;n++){var a=e.eq(n);s+=a.is(":visible")?a[t.d["outerWidth"]](true):0;if(s>t.maxDimension){return r}r++;if(r==o+1){return r}if(n==o){n=-1}}}function gn_getVisibleItemsNextTestCircular(e,t,i,s){var r=gn_getVisibleItemsNext(e,t,i);if(!t.circular){if(i+r>s){r=s-i}}return r}function gn_getVisibleItemsNextFilter(e,t,i){return gn_getItemsNextFilter(e,t.items.filter,t.items.visibleConf.org,i,t.circular)}function gn_getScrollItemsNextFilter(e,t,i,s){return gn_getItemsNextFilter(e,t.items.filter,s+1,i,t.circular)-1}function gn_getItemsNextFilter(e,t,i,s,r){var n=0,o=0;for(var a=s,l=e.length-1;a<=l;a++){o++;if(o>=l){return o}var c=e.eq(a);if(c.is(t)){n++;if(n==i){return o}}if(a==l){a=-1}}}function gi_getCurrentItems(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsPrev(e,t,i){return e.slice(i,t.items.visibleConf.old+i)}function gi_getNewItemsPrev(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsNext(e,t){return e.slice(0,t.items.visibleConf.old)}function gi_getNewItemsNext(e,t,i){return e.slice(i,t.items.visible+i)}function sz_storeMargin(e,t,i){if(t.usePadding){if(!is_string(i)){i="_cfs_origCssMargin"}e.each(function(){var e=$(this),s=parseInt(e.css(t.d["marginRight"]),10);if(!is_number(s)){s=0}e.data(i,s)})}}function sz_resetMargin(e,t,i){if(t.usePadding){var s=is_boolean(i)?i:false;if(!is_number(i)){i=0}sz_storeMargin(e,t,"_cfs_tempCssMargin");e.each(function(){var e=$(this);e.css(t.d["marginRight"],s?e.data("_cfs_tempCssMargin"):i+e.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(e){e.each(function(){var e=$(this);e.data("_cfs_origCss",e.attr("style")||"")})}function sz_restoreOrigCss(e){e.each(function(){var e=$(this);e.attr("style",e.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(e,t){var i=e.items.visible,s=e.items[e.d["width"]],r=e[e.d["height"]],n=is_percentage(r);t.each(function(){var t=$(this),i=s-ms_getPaddingBorderMargin(t,e,"Width");t[e.d["width"]](i);if(n){t[e.d["height"]](ms_getPercentage(i,r))}})}function sz_setSizes(e,t){var i=e.parent(),s=e.children(),r=gi_getCurrentItems(s,t),n=cf_mapWrapperSizes(ms_getSizes(r,t,true),t,false);i.css(n);if(t.usePadding){var o=t.padding,a=o[t.d[1]];if(t.align&&a<0){a=0}var l=r.last();l.css(t.d["marginRight"],l.data("_cfs_origCssMargin")+a);e.css(t.d["top"],o[t.d[0]]);e.css(t.d["left"],o[t.d[3]])}e.css(t.d["width"],n[t.d["width"]]+ms_getTotalSize(s,t,"width")*2);e.css(t.d["height"],ms_getLargestSize(s,t,"height"));return n}function ms_getSizes(e,t,i){return[ms_getTotalSize(e,t,"width",i),ms_getLargestSize(e,t,"height",i)]}function ms_getLargestSize(e,t,i,s){if(!is_boolean(s)){s=false}if(is_number(t[t.d[i]])&&s){return t[t.d[i]]}if(is_number(t.items[t.d[i]])){return t.items[t.d[i]]}i=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";return ms_getTrueLargestSize(e,t,i)}function ms_getTrueLargestSize(e,t,i){var s=0;for(var r=0,n=e.length;r<n;r++){var o=e.eq(r);var a=o.is(":visible")?o[t.d[i]](true):0;if(s<a){s=a}}return s}function ms_getTotalSize(e,t,i,s){if(!is_boolean(s)){s=false}if(is_number(t[t.d[i]])&&s){return t[t.d[i]]}if(is_number(t.items[t.d[i]])){return t.items[t.d[i]]*e.length}var r=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",n=0;for(var o=0,a=e.length;o<a;o++){var l=e.eq(o);n+=l.is(":visible")?l[t.d[r]](true):0}return n}function ms_getParentSize(e,t,i){var s=e.is(":visible");if(s){e.hide()}var r=e.parent()[t.d[i]]();if(s){e.show()}return r}function ms_getMaxDimension(e,t){return is_number(e[e.d["width"]])?e[e.d["width"]]:t}function ms_hasVariableSizes(e,t,i){var s=false,r=false;for(var n=0,o=e.length;n<o;n++){var a=e.eq(n);var l=a.is(":visible")?a[t.d[i]](true):0;if(s===false){s=l}else if(s!=l){r=true}if(s==0){r=true}}return r}function ms_getPaddingBorderMargin(e,t,i){return e[t.d["outer"+i]](true)-e[t.d[i.toLowerCase()]]()}function ms_getPercentage(e,t){if(is_percentage(t)){t=parseInt(t.slice(0,-1),10);if(!is_number(t)){return e}e*=t/100}return e}function cf_e(e,t,i,s,r){if(!is_boolean(i)){i=true}if(!is_boolean(s)){s=true}if(!is_boolean(r)){r=false}if(i){e=t.events.prefix+e}if(s){e=e+"."+t.events.namespace}if(s&&r){e+=t.serialNumber}return e}function cf_c(e,t){return is_string(t.classnames[e])?t.classnames[e]:e}function cf_mapWrapperSizes(e,t,i){if(!is_boolean(i)){i=true}var s=t.usePadding&&i?t.padding:[0,0,0,0];var r={};r[t.d["width"]]=e[0]+s[1]+s[3];r[t.d["height"]]=e[1]+s[0]+s[2];return r}function cf_sortParams(e,t){var i=[];for(var s=0,r=e.length;s<r;s++){for(var n=0,o=t.length;n<o;n++){if(t[n].indexOf(typeof e[s])>-1&&is_undefined(i[n])){i[n]=e[s];break}}}return i}function cf_getPadding(e){if(is_undefined(e)){return[0,0,0,0]}if(is_number(e)){return[e,e,e,e]}if(is_string(e)){e=e.split("px").join("").split("em").join("").split(" ")}if(!is_array(e)){return[0,0,0,0]}for(var t=0;t<4;t++){e[t]=parseInt(e[t],10)}switch(e.length){case 0:return[0,0,0,0];case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];default:return[e[0],e[1],e[2],e[3]]}}function cf_getAlignPadding(e,t){var i=is_number(t[t.d["width"]])?Math.ceil(t[t.d["width"]]-ms_getTotalSize(e,t,"width")):0;switch(t.align){case"left":return[0,i];case"right":return[i,0];case"center":default:return[Math.ceil(i/2),Math.floor(i/2)]}}function cf_getDimensions(e){var t=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var i=t[0].length,s=e.direction=="right"||e.direction=="left"?0:1;var r={};for(var n=0;n<i;n++){r[t[0][n]]=t[s][n]}return r}function cf_getAdjust(e,t,i,s){var r=e;if(is_function(i)){r=i.call(s,r)}else if(is_string(i)){var n=i.split("+"),o=i.split("-");if(o.length>n.length){var a=true,l=o[0],c=o[1]}else{var a=false,l=n[0],c=n[1]}switch(l){case"even":r=e%2==1?e-1:e;break;case"odd":r=e%2==0?e-1:e;break;default:r=e;break}c=parseInt(c,10);if(is_number(c)){if(a){c=-c}r+=c}}if(!is_number(r)||r<1){r=1}return r}function cf_getItemsAdjust(e,t,i,s){return cf_getItemAdjustMinMax(cf_getAdjust(e,t,i,s),t.items.visibleConf)}function cf_getItemAdjustMinMax(e,t){if(is_number(t.min)&&e<t.min){e=t.min}if(is_number(t.max)&&e>t.max){e=t.max}if(e<1){e=1}return e}function cf_getSynchArr(e){if(!is_array(e)){e=[[e]]}if(!is_array(e[0])){e=[e]}for(var t=0,i=e.length;t<i;t++){if(is_string(e[t][0])){e[t][0]=$(e[t][0])}if(!is_boolean(e[t][1])){e[t][1]=true}if(!is_boolean(e[t][2])){e[t][2]=true}if(!is_number(e[t][3])){e[t][3]=0}}return e}function cf_getKeyCode(e){if(e=="right"){return 39}if(e=="left"){return 37}if(e=="up"){return 38}if(e=="down"){return 40}return-1}function cf_setCookie(e,t,i){if(e){var s=t.triggerHandler(cf_e("currentPosition",i));$.fn.carouFredSel.cookie.set(e,s)}}function cf_getCookie(e){var t=$.fn.carouFredSel.cookie.get(e);return t==""?0:t}function in_mapCss(e,t){var i={};for(var s=0,r=t.length;s<r;s++){i[t[s]]=e.css(t[s])}return i}function in_complementItems(e,t,i,s){if(!is_object(e.visibleConf)){e.visibleConf={}}if(!is_object(e.sizesConf)){e.sizesConf={}}if(e.start==0&&is_number(s)){e.start=s}if(is_object(e.visible)){e.visibleConf.min=e.visible.min;e.visibleConf.max=e.visible.max;e.visible=false}else if(is_string(e.visible)){if(e.visible=="variable"){e.visibleConf.variable=true}else{e.visibleConf.adjust=e.visible}e.visible=false}else if(is_function(e.visible)){e.visibleConf.adjust=e.visible;e.visible=false}if(!is_string(e.filter)){e.filter=i.filter(":hidden").length>0?":visible":"*"}if(!e[t.d["width"]]){if(t.responsive){debug(true,"Set a "+t.d["width"]+" for the items!");e[t.d["width"]]=ms_getTrueLargestSize(i,t,"outerWidth")}else{e[t.d["width"]]=ms_hasVariableSizes(i,t,"outerWidth")?"variable":i[t.d["outerWidth"]](true)}}if(!e[t.d["height"]]){e[t.d["height"]]=ms_hasVariableSizes(i,t,"outerHeight")?"variable":i[t.d["outerHeight"]](true)}e.sizesConf.width=e.width;e.sizesConf.height=e.height;return e}function in_complementVisibleItems(e,t){if(e.items[e.d["width"]]=="variable"){e.items.visibleConf.variable=true}if(!e.items.visibleConf.variable){if(is_number(e[e.d["width"]])){e.items.visible=Math.floor(e[e.d["width"]]/e.items[e.d["width"]])}else{e.items.visible=Math.floor(t/e.items[e.d["width"]]);e[e.d["width"]]=e.items.visible*e.items[e.d["width"]];if(!e.items.visibleConf.adjust){e.align=false}}if(e.items.visible=="Infinity"||e.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');e.items.visibleConf.variable=true}}return e}function in_complementPrimarySize(e,t,i){if(e=="auto"){e=ms_getTrueLargestSize(i,t,"outerWidth")}return e}function in_complementSecondarySize(e,t,i){if(e=="auto"){e=ms_getTrueLargestSize(i,t,"outerHeight")}if(!e){e=t.items[t.d["height"]]}return e}function in_getAlignPadding(e,t){var i=cf_getAlignPadding(gi_getCurrentItems(t,e),e);e.padding[e.d[1]]=i[1];e.padding[e.d[3]]=i[0];return e}function in_getResponsiveValues(e,t,i){var s=cf_getItemAdjustMinMax(Math.ceil(e[e.d["width"]]/e.items[e.d["width"]]),e.items.visibleConf);if(s>t.length){s=t.length}var r=Math.floor(e[e.d["width"]]/s);e.items.visible=s;e.items[e.d["width"]]=r;e[e.d["width"]]=s*r;return e}function bt_pauseOnHoverConfig(e){if(is_string(e)){var t=e.indexOf("immediate")>-1?true:false,i=e.indexOf("resume")>-1?true:false}else{var t=i=false}return[t,i]}function bt_mousesheelNumber(e){return is_number(e)?e:null}function is_null(e){return e===null}function is_undefined(e){return is_null(e)||typeof e=="undefined"||e===""||e==="undefined"}function is_array(e){return e instanceof Array}function is_jquery(e){return e instanceof jQuery}function is_object(e){return(e instanceof Object||typeof e=="object")&&!is_null(e)&&!is_jquery(e)&&!is_array(e)&&!is_function(e)}function is_number(e){return(e instanceof Number||typeof e=="number")&&!isNaN(e)}function is_string(e){return(e instanceof String||typeof e=="string")&&!is_undefined(e)&&!is_true(e)&&!is_false(e)}function is_function(e){return e instanceof Function||typeof e=="function"}function is_boolean(e){return e instanceof Boolean||typeof e=="boolean"||is_true(e)||is_false(e)}function is_true(e){return e===true||e==="true"}function is_false(e){return e===false||e==="false"}function is_percentage(e){return is_string(e)&&e.slice(-1)=="%"}function getTime(){return(new Date).getTime()}function deprecated(e,t){debug(true,e+" is DEPRECATED, support for it will be removed. Use "+t+" instead.")}function debug(e,t){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(e)){var i=" ("+e.selector+")";e=e.debug}else{var i=""}if(!e){return false}if(is_string(t)){t="carouFredSel"+i+": "+t}else{t=["carouFredSel"+i+":",t]}window.console.log(t)}return false}$.extend($.easing,{quadratic:function(e){var t=e*e;return e*(-t*e+4*t-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)},elastic:function(e){var t=e*e;return e*(33*t*t-106*t*e+126*t-67*e+15)}})})(jQuery);(function(e){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],e)}else{e(jQuery)}})(function(e){var t="1.6.9",i="left",s="right",r="up",n="down",o="in",a="out",l="none",c="auto",f="swipe",u="pinch",d="tap",p="doubletap",h="longtap",m="hold",g="horizontal",_="vertical",v="all",b=10,y="start",w="move",x="end",$="cancel",k="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,S=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,C="TouchSwipe";var D={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:true};e.fn.swipe=function(t){var i=e(this),s=i.data(C);if(s&&typeof t==="string"){if(s[t]){return s[t].apply(this,Array.prototype.slice.call(arguments,1))}else{e.error("Method "+t+" does not exist on jQuery.swipe")}}else{if(!s&&(typeof t==="object"||!t)){return P.apply(this,arguments)}}return i};e.fn.swipe.version=t;e.fn.swipe.defaults=D;e.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:w,PHASE_END:x,PHASE_CANCEL:$};e.fn.swipe.directions={LEFT:i,RIGHT:s,UP:r,DOWN:n,IN:o,OUT:a};e.fn.swipe.pageScroll={NONE:l,HORIZONTAL:g,VERTICAL:_,AUTO:c};e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:v};function P(t){if(t&&(t.allowPageScroll===undefined&&(t.swipe!==undefined||t.swipeStatus!==undefined))){t.allowPageScroll=l}if(t.click!==undefined&&t.tap===undefined){t.tap=t.click}if(!t){t={}}t=e.extend({},e.fn.swipe.defaults,t);return this.each(function(){var i=e(this);var s=i.data(C);if(!s){s=new M(this,t);i.data(C,s)}})}function M(t,m){var D=k||S||!m.fallbackToMouseEvents,P=D?S?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",M=D?S?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",I=D?S?T?"MSPointerUp":"pointerup":"touchend":"mouseup",j=D?null:"mouseleave",F=S?T?"MSPointerCancel":"pointercancel":"touchcancel";var O=0,A=null,N=0,E=0,z=0,H=1,R=0,q=0,L=null;var W=e(t);var B="start";var U=0;var V=null;var Y=0,K=0,X=0,Q=0,G=0;var Z=null,J=null;try{W.bind(P,te);W.bind(F,re)}catch(ee){e.error("events not supported "+P+","+F+" on jQuery.swipe")}this.enable=function(){W.bind(P,te);W.bind(F,re);return W};this.disable=function(){oe();return W};this.destroy=function(){oe();W.data(C,null);W=null};this.option=function(t,i){if(m[t]!==undefined){if(i===undefined){return m[t]}else{m[t]=i}}else{e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null};function te(t){if(Ne()){return}if(e(t.target).closest(m.excludedElements,W).length>0){return}var i=t.originalEvent?t.originalEvent:t;var s,r=i.touches,n=r?r[0]:i;B=y;if(r){U=r.length}else{t.preventDefault()}O=0;A=null;q=null;N=0;E=0;z=0;H=1;R=0;V=qe();L=Be();Oe();if(!r||(U===m.fingers||m.fingers===v)||ge()){ze(0,n);Y=Je();if(U==2){ze(1,r[1]);E=z=Ye(V[0].start,V[1].start)}if(m.swipeStatus||m.pinchStatus){s=le(i,B)}}else{s=false}if(s===false){B=$;le(i,B);return s}else{if(m.hold){J=setTimeout(e.proxy(function(){W.trigger("hold",[i.target]);if(m.hold){s=m.hold.call(W,i,i.target)}},this),m.longTapThreshold)}Ee(true)}return null}function ie(e){var t=e.originalEvent?e.originalEvent:e;if(B===x||B===$||Ae()){return}var i,s=t.touches,r=s?s[0]:t;var n=He(r);K=Je();if(s){U=s.length}if(m.hold){clearTimeout(J)}B=w;if(U==2){if(E==0){ze(1,s[1]);E=z=Ye(V[0].start,V[1].start)}else{He(s[1]);z=Ye(V[0].end,V[1].end);q=Xe(V[0].end,V[1].end)}H=Ke(E,z);R=Math.abs(E-z)}if(U===m.fingers||m.fingers===v||!s||ge()){A=Ze(n.start,n.end);he(e,A);O=Qe(n.start,n.end);N=Ve();Le(A,O);if(m.swipeStatus||m.pinchStatus){i=le(t,B)}if(!m.triggerOnTouchEnd||m.triggerOnTouchLeave){var o=true;if(m.triggerOnTouchLeave){var a=et(this);o=tt(n.end,a)}if(!m.triggerOnTouchEnd&&o){B=ae(w)}else{if(m.triggerOnTouchLeave&&!o){B=ae(x)}}if(B==$||B==x){le(t,B)}}}else{B=$;le(t,B)}if(i===false){B=$;le(t,B)}}function se(e){var t=e.originalEvent?e.originalEvent:e,i=t.touches;if(i){if(i.length){Fe();return true}}if(Ae()){U=Q}K=Je();N=Ve();if(ue()||!fe()){B=$;le(t,B)}else{if(m.triggerOnTouchEnd||m.triggerOnTouchEnd==false&&B===w){e.preventDefault();B=x;le(t,B)}else{if(!m.triggerOnTouchEnd&&$e()){B=x;ce(t,B,d)}else{if(B===w){B=$;le(t,B)}}}}Ee(false);return null}function re(){U=0;K=0;Y=0;E=0;z=0;H=1;Oe();Ee(false)}function ne(e){var t=e.originalEvent?e.originalEvent:e;if(m.triggerOnTouchLeave){B=ae(x);le(t,B)}}function oe(){W.unbind(P,te);W.unbind(F,re);W.unbind(M,ie);W.unbind(I,se);if(j){W.unbind(j,ne)}Ee(false)}function ae(e){var t=e;var i=pe();var s=fe();var r=ue();if(!i||r){t=$}else{if(s&&e==w&&(!m.triggerOnTouchEnd||m.triggerOnTouchLeave)){t=x}else{if(!s&&e==x&&m.triggerOnTouchLeave){t=$}}}return t}function le(e,t){var i,s=e.touches;if(ye()||be()||(_e()||ge())){if(ye()||be()){i=ce(e,t,f)}if((_e()||ge())&&i!==false){i=ce(e,t,u)}}else{if(Ie()&&i!==false){i=ce(e,t,p)}else{if(je()&&i!==false){i=ce(e,t,h)}else{if(Me()&&i!==false){i=ce(e,t,d)}}}}if(t===$){re(e)}if(t===x){if(s){if(!s.length){re(e)}}else{re(e)}}return i}function ce(t,l,c){var g;if(c==f){W.trigger("swipeStatus",[l,A||null,O||0,N||0,U,V]);if(m.swipeStatus){g=m.swipeStatus.call(W,t,l,A||null,O||0,N||0,U,V);if(g===false){return false}}if(l==x&&ve()){W.trigger("swipe",[A,O,N,U,V]);if(m.swipe){g=m.swipe.call(W,t,A,O,N,U,V);if(g===false){return false}}switch(A){case i:W.trigger("swipeLeft",[A,O,N,U,V]);if(m.swipeLeft){g=m.swipeLeft.call(W,t,A,O,N,U,V)}break;case s:W.trigger("swipeRight",[A,O,N,U,V]);if(m.swipeRight){g=m.swipeRight.call(W,t,A,O,N,U,V)}break;case r:W.trigger("swipeUp",[A,O,N,U,V]);if(m.swipeUp){g=m.swipeUp.call(W,t,A,O,N,U,V)}break;case n:W.trigger("swipeDown",[A,O,N,U,V]);if(m.swipeDown){g=m.swipeDown.call(W,t,A,O,N,U,V)}break}}}if(c==u){W.trigger("pinchStatus",[l,q||null,R||0,N||0,U,H,V]);if(m.pinchStatus){g=m.pinchStatus.call(W,t,l,q||null,R||0,N||0,U,H,V);if(g===false){return false}}if(l==x&&me()){switch(q){case o:W.trigger("pinchIn",[q||null,R||0,N||0,U,H,V]);if(m.pinchIn){g=m.pinchIn.call(W,t,q||null,R||0,N||0,U,H,V)}break;case a:W.trigger("pinchOut",[q||null,R||0,N||0,U,H,V]);if(m.pinchOut){g=m.pinchOut.call(W,t,q||null,R||0,N||0,U,H,V)}break}}}if(c==d){if(l===$||l===x){clearTimeout(Z);clearTimeout(J);if(ke()&&!Ce()){G=Je();Z=setTimeout(e.proxy(function(){G=null;W.trigger("tap",[t.target]);if(m.tap){g=m.tap.call(W,t,t.target)}},this),m.doubleTapThreshold)}else{G=null;W.trigger("tap",[t.target]);if(m.tap){g=m.tap.call(W,t,t.target)}}}}else{if(c==p){if(l===$||l===x){clearTimeout(Z);G=null;W.trigger("doubletap",[t.target]);if(m.doubleTap){g=m.doubleTap.call(W,t,t.target)}}}else{if(c==h){if(l===$||l===x){clearTimeout(Z);G=null;W.trigger("longtap",[t.target]);if(m.longTap){g=m.longTap.call(W,t,t.target)}}}}}return g}function fe(){var e=true;if(m.threshold!==null){e=O>=m.threshold}return e}function ue(){var e=false;if(m.cancelThreshold!==null&&A!==null){e=We(A)-O>=m.cancelThreshold}return e}function de(){if(m.pinchThreshold!==null){return R>=m.pinchThreshold}return true}function pe(){var e;if(m.maxTimeThreshold){if(N>=m.maxTimeThreshold){e=false}else{e=true}}else{e=true}return e}function he(e,t){if(m.preventDefaultEvents===false){return}if(m.allowPageScroll===l){e.preventDefault()}else{var o=m.allowPageScroll===c;switch(t){case i:if(m.swipeLeft&&o||!o&&m.allowPageScroll!=g){e.preventDefault()}break;case s:if(m.swipeRight&&o||!o&&m.allowPageScroll!=g){e.preventDefault()}break;case r:if(m.swipeUp&&o||!o&&m.allowPageScroll!=_){e.preventDefault()}break;case n:if(m.swipeDown&&o||!o&&m.allowPageScroll!=_){e.preventDefault()}break}}}function me(){var e=we();var t=xe();var i=de();return e&&t&&i}function ge(){return!!(m.pinchStatus||m.pinchIn||m.pinchOut)}function _e(){return!!(me()&&ge())}function ve(){var e=pe();var t=fe();var i=we();var s=xe();var r=ue();var n=!r&&s&&i&&t&&e;return n}function be(){return!!(m.swipe||m.swipeStatus||m.swipeLeft||m.swipeRight||m.swipeUp||m.swipeDown)}function ye(){return!!(ve()&&be())}function we(){return U===m.fingers||m.fingers===v||!k}function xe(){return V[0].end.x!==0}function $e(){return!!m.tap}function ke(){return!!m.doubleTap}function Te(){return!!m.longTap}function Se(){if(G==null){return false}var e=Je();return ke()&&e-G<=m.doubleTapThreshold}function Ce(){return Se()}function De(){return(U===1||!k)&&(isNaN(O)||O<m.threshold)}function Pe(){return N>m.longTapThreshold&&O<b}function Me(){return!!(De()&&$e())}function Ie(){return!!(Se()&&ke())}function je(){return!!(Pe()&&Te())}function Fe(){X=Je();Q=event.touches.length+1}function Oe(){X=0;Q=0}function Ae(){var e=false;if(X){var t=Je()-X;if(t<=m.fingerReleaseThreshold){e=true}}return e}function Ne(){return!!(W.data(C+"_intouch")===true)}function Ee(e){if(e===true){W.bind(M,ie);W.bind(I,se);if(j){W.bind(j,ne)}}else{W.unbind(M,ie,false);W.unbind(I,se,false);if(j){W.unbind(j,ne,false)}}W.data(C+"_intouch",e===true)}function ze(e,t){var i=t.identifier!==undefined?t.identifier:0;V[e].identifier=i;V[e].start.x=V[e].end.x=t.pageX||t.clientX;V[e].start.y=V[e].end.y=t.pageY||t.clientY;return V[e]}function He(e){var t=e.identifier!==undefined?e.identifier:0;var i=Re(t);i.end.x=e.pageX||e.clientX;i.end.y=e.pageY||e.clientY;return i}function Re(e){for(var t=0;t<V.length;t++){if(V[t].identifier==e){return V[t]}}}function qe(){var e=[];for(var t=0;t<=5;t++){e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return e}function Le(e,t){t=Math.max(t,We(e));L[e].distance=t}function We(e){if(L[e]){return L[e].distance}return undefined}function Be(){var e={};e[i]=Ue(i);e[s]=Ue(s);e[r]=Ue(r);e[n]=Ue(n);return e}function Ue(e){return{direction:e,distance:0}}function Ve(){return K-Y}function Ye(e,t){var i=Math.abs(e.x-t.x);var s=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+s*s))}function Ke(e,t){var i=t/e*1;return i.toFixed(2)}function Xe(){if(H<1){return a}else{return o}}function Qe(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Ge(e,t){var i=e.x-t.x;var s=t.y-e.y;var r=Math.atan2(s,i);var n=Math.round(r*180/Math.PI);if(n<0){n=360-Math.abs(n)}return n}function Ze(e,t){var o=Ge(e,t);if(o<=45&&o>=0){return i}else{if(o<=360&&o>=315){return i}else{if(o>=135&&o<=225){return s}else{if(o>45&&o<135){return n}else{return r}}}}}function Je(){var e=new Date;return e.getTime()}function et(t){t=e(t);var i=t.offset();var s={left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()};return s}function tt(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}}});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.sbjs=e()}}(function(){var e,t,i;return function s(e,t,i){function r(o,a){if(!t[o]){if(!e[o]){var l=typeof require=="function"&&require;if(!a&&l)return l(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(t){var i=e[o][1][t];return r(i?i:t)},f,f.exports,s,e,t,i)}return t[o].exports}var n=typeof require=="function"&&require;for(var o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,i){"use strict";var s=e("./init");var r={init:function(e){this.get=s(e);if(e&&e.callback&&typeof e.callback==="function"){e.callback(this.get)}}};t.exports=r},{"./init":6}],2:[function(e,t,i){"use strict";var s=e("./terms"),r=e("./helpers/utils");var n={containers:{current:"sbjs_current",current_extra:"sbjs_current_add",first:"sbjs_first",first_extra:"sbjs_first_add",session:"sbjs_session",udata:"sbjs_udata",promocode:"sbjs_promo"},service:{migrations:"sbjs_migrations"},delimiter:"|||",aliases:{main:{type:"typ",source:"src",medium:"mdm",campaign:"cmp",content:"cnt",term:"trm"},extra:{fire_date:"fd",entrance_point:"ep",referer:"rf"},session:{pages_seen:"pgs",current_page:"cpg"},udata:{visits:"vst",ip:"uip",agent:"uag"},promo:"code"},pack:{main:function(e){return n.aliases.main.type+"="+e.type+n.delimiter+n.aliases.main.source+"="+e.source+n.delimiter+n.aliases.main.medium+"="+e.medium+n.delimiter+n.aliases.main.campaign+"="+e.campaign+n.delimiter+n.aliases.main.content+"="+e.content+n.delimiter+n.aliases.main.term+"="+e.term},extra:function(e){return n.aliases.extra.fire_date+"="+r.setDate(new Date,e)+n.delimiter+n.aliases.extra.entrance_point+"="+document.location.href+n.delimiter+n.aliases.extra.referer+"="+(document.referrer||s.none)},user:function(e,t){return n.aliases.udata.visits+"="+e+n.delimiter+n.aliases.udata.ip+"="+t+n.delimiter+n.aliases.udata.agent+"="+navigator.userAgent},session:function(e){return n.aliases.session.pages_seen+"="+e+n.delimiter+n.aliases.session.current_page+"="+document.location.href},promo:function(e){return n.aliases.promo+"="+r.setLeadingZeroToInt(r.randomInt(e.min,e.max),e.max.toString().length)}}};t.exports=n},{"./helpers/utils":5,"./terms":9}],3:[function(e,t,i){"use strict";var s=e("../data").delimiter;t.exports={encodeData:function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\~/g,"%7E").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")},decodeData:function(e){try{return decodeURIComponent(e).replace(/\%21/g,"!").replace(/\%7E/g,"~").replace(/\%2A/g,"*").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")")}catch(t){try{return unescape(e)}catch(i){return""}}},set:function(e,t,i,s,r){var n,o;if(i){var a=new Date;a.setTime(a.getTime()+i*60*1e3);n="; expires="+a.toGMTString()}else{n=""}if(s&&!r){o=";domain=."+s}else{o=""}document.cookie=this.encodeData(e)+"="+this.encodeData(t)+n+o+"; path=/"},get:function(e){var t=this.encodeData(e)+"=",i=document.cookie.split(";");for(var s=0;s<i.length;s++){var r=i[s];while(r.charAt(0)===" "){r=r.substring(1,r.length)}if(r.indexOf(t)===0){return this.decodeData(r.substring(t.length,r.length))}}return null},destroy:function(e,t,i){this.set(e,"",-1,t,i)},parse:function(e){var t=[],i={};if(typeof e==="string"){t.push(e)}else{for(var r in e){if(e.hasOwnProperty(r)){t.push(e[r])}}}for(var n=0;n<t.length;n++){var o;i[this.unsbjs(t[n])]={};if(this.get(t[n])){o=this.get(t[n]).split(s)}else{o=[]}for(var a=0;a<o.length;a++){var l=o[a].split("="),c=l.splice(0,1);c.push(l.join("="));i[this.unsbjs(t[n])][c[0]]=this.decodeData(c[1])}}return i},unsbjs:function(e){return e.replace("sbjs_","")}}},{"../data":2}],4:[function(e,t,i){"use strict";t.exports={parse:function(e){var t=this.parseOptions,i=t.parser[t.strictMode?"strict":"loose"].exec(e),s={},r=14;while(r--){s[t.key[r]]=i[r]||""}s[t.q.name]={};s[t.key[12]].replace(t.q.parser,function(e,i,r){if(i){s[t.q.name][i]=r}});return s},parseOptions:{strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},getParam:function(e){var t={},i=e?e:window.location.search.substring(1),s=i.split("&");for(var r=0;r<s.length;r++){var n=s[r].split("=");if(typeof t[n[0]]==="undefined"){t[n[0]]=n[1]}else if(typeof t[n[0]]==="string"){var o=[t[n[0]],n[1]];t[n[0]]=o}else{t[n[0]].push(n[1])}}return t},getHost:function(e){return this.parse(e).host.replace("www.","")}}},{}],5:[function(e,t,i){"use strict";t.exports={escapeRegexp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},setDate:function(e,t){var i=e.getTimezoneOffset()/60,s=e.getHours(),r=t||-i;e.setHours(s+i+r);var n=e.getFullYear(),o=this.setLeadingZeroToInt(e.getMonth()+1,2),a=this.setLeadingZeroToInt(e.getDate(),2),l=this.setLeadingZeroToInt(e.getHours(),2),c=this.setLeadingZeroToInt(e.getMinutes(),2),f=this.setLeadingZeroToInt(e.getSeconds(),2);return n+"-"+o+"-"+a+" "+l+":"+c+":"+f},setLeadingZeroToInt:function(e,t){var i=e+"";while(i.length<t){i="0"+i}return i},randomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}}},{}],6:[function(e,t,i){"use strict";var s=e("./data"),r=e("./terms"),n=e("./helpers/cookies"),o=e("./helpers/uri"),a=e("./helpers/utils"),l=e("./params"),c=e("./migrations");t.exports=function(e){var t=l.fetch(e);var i=o.getParam();var f=t.domain.host,u=t.domain.isolate,d=t.lifetime;c.go(d,f,u);var p,h,m,g,_,v;function b(){var e;if(typeof i.utm_source!=="undefined"||typeof i.utm_medium!=="undefined"||typeof i.utm_campaign!=="undefined"||typeof i.utm_content!=="undefined"||typeof i.utm_term!=="undefined"||typeof i.gclid!=="undefined"||typeof i[t.campaign_param]!=="undefined"){S();e=y(r.traffic.utm)}else if(x(r.traffic.organic)){S();e=y(r.traffic.organic)}else if(!n.get(s.containers.session)&&x(r.traffic.referral)){S();e=y(r.traffic.referral)}else if(!n.get(s.containers.first)&&!n.get(s.containers.current)){S();e=y(r.traffic.typein)}else{return n.get(s.containers.current)}return e}function y(e){switch(e){case r.traffic.utm:p=r.traffic.utm;if(typeof i.utm_source!=="undefined"){h=i.utm_source}else if(typeof i.gclid!=="undefined"){h="google"}else{h=r.none}if(typeof i.utm_medium!=="undefined"){m=i.utm_medium}else if(typeof i.gclid!=="undefined"){m="cpc"}else{m=r.none}if(typeof i.utm_campaign!=="undefined"){g=i.utm_campaign}else if(typeof i[t.campaign_param]!=="undefined"){g=i[t.campaign_param]}else if(typeof i.gclid!=="undefined"){g="google_cpc"}else{g=r.none}_=i.utm_content||r.none;v=w()||r.none;break;case r.traffic.organic:p=r.traffic.organic;h=h||o.getHost(document.referrer);m=r.referer.organic;g=r.none;_=r.none;v=r.none;break;case r.traffic.referral:p=r.traffic.referral;h=h||o.getHost(document.referrer);m=m||r.referer.referral;g=r.none;_=o.parse(document.referrer).path;v=r.none;break;case r.traffic.typein:p=r.traffic.typein;h=t.typein_attributes.source;m=t.typein_attributes.medium;g=r.none;
_=r.none;v=r.none;break;default:p=r.oops;h=r.oops;m=r.oops;g=r.oops;_=r.oops;v=r.oops}var n={type:p,source:h,medium:m,campaign:g,content:_,term:v};return s.pack.main(n)}function w(){var e=document.referrer;if(i.utm_term){return i.utm_term}else if(e&&o.parse(e).host&&o.parse(e).host.match(/^(?:.*\.)?yandex\..{2,9}$/i)){try{return o.getParam(o.parse(document.referrer).query).text}catch(t){return false}}else{return false}}function x(e){var t=document.referrer;switch(e){case r.traffic.organic:return!!t&&$(t)&&k(t);case r.traffic.referral:return!!t&&$(t)&&T(t);default:return false}}function $(e){if(t.domain){if(!u){var i=new RegExp("^(?:.*\\.)?"+a.escapeRegexp(f)+"$","i");return!o.getHost(e).match(i)}else{return o.getHost(e)!==o.getHost(f)}}else{return o.getHost(e)!==o.getHost(document.location.href)}}function k(e){var i="yandex",s="text",r="google";var n=new RegExp("^(?:.*\\.)?"+a.escapeRegexp(i)+"\\..{2,9}$"),l=new RegExp(".*"+a.escapeRegexp(s)+"=.*"),c=new RegExp("^(?:www\\.)?"+a.escapeRegexp(r)+"\\..{2,9}$");if(!!o.parse(e).query&&!!o.parse(e).host.match(n)&&!!o.parse(e).query.match(l)){h=i;return true}else if(!!o.parse(e).host.match(c)){h=r;return true}else if(!!o.parse(e).query){for(var f=0;f<t.organics.length;f++){if(o.parse(e).host.match(new RegExp("^(?:.*\\.)?"+a.escapeRegexp(t.organics[f].host)+"$","i"))&&o.parse(e).query.match(new RegExp(".*"+a.escapeRegexp(t.organics[f].param)+"=.*","i"))){h=t.organics[f].display||t.organics[f].host;return true}if(f+1===t.organics.length){return false}}}else{return false}}function T(e){if(t.referrals.length>0){for(var i=0;i<t.referrals.length;i++){if(o.parse(e).host.match(new RegExp("^(?:.*\\.)?"+a.escapeRegexp(t.referrals[i].host)+"$","i"))){h=t.referrals[i].display||t.referrals[i].host;m=t.referrals[i].medium||r.referer.referral;return true}if(i+1===t.referrals.length){h=o.getHost(e);return true}}}else{h=o.getHost(e);return true}}function S(){n.set(s.containers.current_extra,s.pack.extra(t.timezone_offset),d,f,u);if(!n.get(s.containers.first_extra)){n.set(s.containers.first_extra,s.pack.extra(t.timezone_offset),d,f,u)}}(function C(){n.set(s.containers.current,b(),d,f,u);if(!n.get(s.containers.first)){n.set(s.containers.first,n.get(s.containers.current),d,f,u)}var e,i;if(!n.get(s.containers.udata)){e=1;i=s.pack.user(e,t.user_ip)}else{e=parseInt(n.parse(s.containers.udata)[n.unsbjs(s.containers.udata)][s.aliases.udata.visits])||1;e=n.get(s.containers.session)?e:e+1;i=s.pack.user(e,t.user_ip)}n.set(s.containers.udata,i,d,f,u);var r;if(!n.get(s.containers.session)){r=1}else{r=parseInt(n.parse(s.containers.session)[n.unsbjs(s.containers.session)][s.aliases.session.pages_seen])||1;r+=1}n.set(s.containers.session,s.pack.session(r),t.session_length,f,u);if(t.promocode&&!n.get(s.containers.promocode)){n.set(s.containers.promocode,s.pack.promo(t.promocode),d,f,u)}})();return n.parse(s.containers)}},{"./data":2,"./helpers/cookies":3,"./helpers/uri":4,"./helpers/utils":5,"./migrations":7,"./params":8,"./terms":9}],7:[function(e,t,i){"use strict";var s=e("./data"),r=e("./helpers/cookies");t.exports={go:function(e,t,i){var n=this.migrations,o={l:e,d:t,i:i};var a;if(!r.get(s.containers.first)&&!r.get(s.service.migrations)){var l=[];for(a=0;a<n.length;a++){l.push(n[a].id)}var c="";for(a=0;a<l.length;a++){c+=l[a]+"=1";if(a<l.length-1){c+=s.delimiter}}r.set(s.service.migrations,c,o.l,o.d,o.i)}else if(!r.get(s.service.migrations)){for(a=0;a<n.length;a++){n[a].go(n[a].id,o)}}},migrations:[{id:"1418474375998",version:"1.0.0-beta",go:function(e,t){var i=e+"=1",n=e+"=0";var o=function(e,t,i){return t||i?e:s.delimiter};try{var a=[];for(var l in s.containers){if(s.containers.hasOwnProperty(l)){a.push(s.containers[l])}}for(var c=0;c<a.length;c++){if(r.get(a[c])){var f=r.get(a[c]).replace(/(\|)?\|(\|)?/g,o);r.destroy(a[c],t.d,t.i);r.destroy(a[c],t.d,!t.i);r.set(a[c],f,t.l,t.d,t.i)}}if(r.get(s.containers.session)){r.set(s.containers.session,s.pack.session(0),t.l,t.d,t.i)}r.set(s.service.migrations,i,t.l,t.d,t.i)}catch(u){r.set(s.service.migrations,n,t.l,t.d,t.i)}}}]}},{"./data":2,"./helpers/cookies":3}],8:[function(e,t,i){"use strict";var s=e("./terms"),r=e("./helpers/uri");t.exports={fetch:function(e){var t=e||{},i={};i.lifetime=this.validate.checkFloat(t.lifetime)||6;i.lifetime=parseInt(i.lifetime*30*24*60);i.session_length=this.validate.checkInt(t.session_length)||30;i.timezone_offset=this.validate.checkInt(t.timezone_offset);i.campaign_param=t.campaign_param||false;i.user_ip=t.user_ip||s.none;if(t.promocode){i.promocode={};i.promocode.min=parseInt(t.promocode.min)||1e5;i.promocode.max=parseInt(t.promocode.max)||999999}else{i.promocode=false}if(t.typein_attributes&&t.typein_attributes.source&&t.typein_attributes.medium){i.typein_attributes={};i.typein_attributes.source=t.typein_attributes.source;i.typein_attributes.medium=t.typein_attributes.medium}else{i.typein_attributes={source:"(direct)",medium:"(none)"}}if(t.domain&&this.validate.isString(t.domain)){i.domain={host:t.domain,isolate:false}}else if(t.domain&&t.domain.host){i.domain=t.domain}else{i.domain={host:r.getHost(document.location.hostname),isolate:false}}i.referrals=[];if(t.referrals&&t.referrals.length>0){for(var n=0;n<t.referrals.length;n++){if(t.referrals[n].host){i.referrals.push(t.referrals[n])}}}i.organics=[];if(t.organics&&t.organics.length>0){for(var o=0;o<t.organics.length;o++){if(t.organics[o].host&&t.organics[o].param){i.organics.push(t.organics[o])}}}i.organics.push({host:"bing.com",param:"q",display:"bing"});i.organics.push({host:"yahoo.com",param:"p",display:"yahoo"});i.organics.push({host:"about.com",param:"q",display:"about"});i.organics.push({host:"aol.com",param:"q",display:"aol"});i.organics.push({host:"ask.com",param:"q",display:"ask"});i.organics.push({host:"globososo.com",param:"q",display:"globo"});i.organics.push({host:"go.mail.ru",param:"q",display:"go.mail.ru"});i.organics.push({host:"rambler.ru",param:"query",display:"rambler"});i.organics.push({host:"tut.by",param:"query",display:"tut.by"});i.referrals.push({host:"t.co",display:"twitter.com"});i.referrals.push({host:"plus.url.google.com",display:"plus.google.com"});return i},validate:{checkFloat:function(e){return e&&this.isNumeric(parseFloat(e))?parseFloat(e):false},checkInt:function(e){return e&&this.isNumeric(parseInt(e))?parseInt(e):false},isNumeric:function(e){return!isNaN(e)},isString:function(e){return Object.prototype.toString.call(e)==="[object String]"}}}},{"./helpers/uri":4,"./terms":9}],9:[function(e,t,i){"use strict";t.exports={traffic:{utm:"utm",organic:"organic",referral:"referral",typein:"typein"},referer:{referral:"referral",organic:"organic",social:"social"},none:"(none)",oops:"(Houston, we have a problem)"}},{}]},{},[1])(1)});(function(e){function t(){var e=new Date(this.toString()),t=28,i=e.getMonth();while(e.getMonth()==i){++t;e.setDate(t)}return t-1}e.addDays=function(e){this.setDate(this.getDate()+e)};e.addMonths=function(e){var i=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+e);this.setDate(Math.min(i,t.apply(this)))};e.addYears=function(e){var i=this.getDate();this.setDate(1);this.setFullYear(this.getFullYear()+e);this.setDate(Math.min(i,t.apply(this)))};e.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var t=new Date(this.getFullYear(),0,0,0,0,0);var i=e-t;return Math.floor(i/24*60*60*1e3)}})(Date.prototype);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){e(require("jquery"))}else{e(jQuery)}})(function(e){var t=0;e.pickmeup=e.extend(e.pickmeup||{},{date:new Date,default_date:new Date,flat:false,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:true,select_month:true,select_day:true,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",trigger_event:"click touchstart",class_name:"",separator:" - ",hide_on_select:false,min:null,max:null,render:function(){},change:function(){return true},before_show:function(){return true},show:function(){return true},hide:function(){return true},fill:function(){return true},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});var i={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},s={wrapper:'<div class="pickmeup" />',head:function(e){var t="";for(var i=0;i<7;++i){t+="<div>"+e.day[i]+"</div>"}return'<div class="pmu-instance">'+"<nav>"+'<div class="pmu-prev pmu-button">'+e.prev+"</div>"+'<div class="pmu-month pmu-button" />'+'<div class="pmu-next pmu-button">'+e.next+"</div>"+"</nav>"+'<nav class="pmu-day-of-week">'+t+"</nav>"+"</div>"},body:function(e,t){var i="";for(var s=0;s<e.length;++s){i+='<div class="'+e[s].class_name+' pmu-button">'+e[s].text+"</div>"}return'<div class="'+t+'">'+i+"</div>"}};function r(){var t=e(this).data("pickmeup-options"),i=this.pickmeup,r=Math.floor(t.calendars/2),n=t.date,a=t.current,l=t.min?new Date(t.min):null,c=t.max?new Date(t.max):null,f,u,d,p,h=(new Date).setHours(0,0,0,0).valueOf(),m,g,_;if(l){l.setDate(1);l.addMonths(1);l.addDays(-1)}if(c){c.setDate(1);c.addMonths(1);c.addDays(-1)}i.find(".pmu-instance > :not(nav)").remove();for(var v=0;v<t.calendars;v++){f=new Date(a);p=i.find(".pmu-instance").eq(v);if(i.hasClass("pmu-view-years")){f.addYears((v-r)*12);u=f.getFullYear()-6+" - "+(f.getFullYear()+5)}else if(i.hasClass("pmu-view-months")){f.addYears(v-r);u=f.getFullYear()}else if(i.hasClass("pmu-view-days")){f.addMonths(v-r);u=o(f,t.title_format,t.locale)}if(!g){if(c){_=new Date(f);if(t.select_day){_.addMonths(t.calendars-1)}else if(t.select_month){_.addYears(t.calendars-1)}else{_.addYears((t.calendars-1)*12)}if(_>c){--v;a.addMonths(-1);g=undefined;continue}}}g=new Date(f);if(!m){m=new Date(f);m.setDate(1);m.addMonths(1);m.addDays(-1);if(l&&l>m){--v;a.addMonths(1);m=undefined;continue}}p.find(".pmu-month").text(u);d="";var b=function(e){return t.mode=="range"&&e>=new Date(n[0]).getFullYear()&&e<=new Date(n[1]).getFullYear()||t.mode=="multiple"&&n.reduce(function(e,t){e.push(new Date(t).getFullYear());return e},[]).indexOf(e)!==-1||new Date(n).getFullYear()==e};var y=function(e,i){var s=new Date(n[0]).getFullYear(),r=new Date(n[1]).getFullYear(),o=new Date(n[0]).getMonth(),a=new Date(n[1]).getMonth();return t.mode=="range"&&e>s&&e<r||t.mode=="range"&&e==s&&e<r&&i>=o||t.mode=="range"&&e>s&&e==r&&i<=a||t.mode=="range"&&e==s&&e==r&&i>=o&&i<=a||t.mode=="multiple"&&n.reduce(function(e,t){t=new Date(t);e.push(t.getFullYear()+"-"+t.getMonth());return e},[]).indexOf(e+"-"+i)!==-1||new Date(n).getFullYear()==e&&new Date(n).getMonth()==i};(function(){var e=[],i=f.getFullYear()-6,r=new Date(t.min).getFullYear(),n=new Date(t.max).getFullYear(),o;for(var a=0;a<12;++a){o={text:i+a,class_name:[]};if(t.min&&o.text<r||t.max&&o.text>n){o.class_name.push("pmu-disabled")}else if(b(o.text)){o.class_name.push("pmu-selected")}o.class_name=o.class_name.join(" ");e.push(o)}d+=s.body(e,"pmu-years")})();(function(){var e=[],i=f.getFullYear(),r=new Date(t.min).getFullYear(),n=new Date(t.min).getMonth(),o=new Date(t.max).getFullYear(),a=new Date(t.max).getMonth(),l;for(var c=0;c<12;++c){l={text:t.locale.monthsShort[c],class_name:[]};if(t.min&&(i<r||c<n&&i==r)||t.max&&(i>o||c>a&&i>=o)){l.class_name.push("pmu-disabled")}else if(y(i,c)){l.class_name.push("pmu-selected")}l.class_name=l.class_name.join(" ");e.push(l)}d+=s.body(e,"pmu-months")})();(function(){var i=[],r=f.getMonth(),n;(function(){f.setDate(1);var e=(f.getDay()-t.first_day)%7;f.addDays(-(e+(e<0?7:0)))})();for(var o=0;o<42;++o){n={text:f.getDate(),class_name:[]};if(r!=f.getMonth()){n.class_name.push("pmu-not-in-month")}if(f.getDay()==0){n.class_name.push("pmu-sunday")}else if(f.getDay()==6){n.class_name.push("pmu-saturday")}var a=t.render(new Date(f))||{},l=f.valueOf(),c=t.min&&t.min>f||t.max&&t.max<f;if(a.disabled||c){n.class_name.push("pmu-disabled")}else if(a.selected||t.date==l||e.inArray(l,t.date)!==-1||t.mode=="range"&&l>=t.date[0]&&l<=t.date[1]){n.class_name.push("pmu-selected")}if(l==h){n.class_name.push("pmu-today")}if(a.class_name){n.class_name.push(a.class_name)}n.class_name=n.class_name.join(" ");i.push(n);f.addDays(1)}d+=s.body(i,"pmu-days")})();p.append(d)}m.setDate(1);g.setDate(1);g.addMonths(1);g.addDays(-1);i.find(".pmu-prev").css("visibility",t.min&&t.min>=m?"hidden":"visible");i.find(".pmu-next").css("visibility",t.max&&t.max<=g?"hidden":"visible");t.fill.apply(this)}function n(t,i,s,r){if(t.constructor==Date){return t}else if(!t){return new Date}var o=t.split(s);if(o.length>1){o.forEach(function(t,o,a){a[o]=n(e.trim(t),i,s,r)});return o}var a=r.monthsShort.join(")(")+")("+r.months.join(")("),s=new RegExp("[^0-9a-zA-Z("+a+")]+"),l=t.split(s),c=i.split(s),f,u,d,p,h,m=new Date;for(var g=0;g<l.length;g++){switch(c[g]){case"b":u=r.monthsShort.indexOf(l[g]);break;case"B":u=r.months.indexOf(l[g]);break;case"d":case"e":f=parseInt(l[g],10);break;case"m":u=parseInt(l[g],10)-1;break;case"Y":case"y":d=parseInt(l[g],10);d+=d>100?0:d<29?2e3:1900;break;case"H":case"I":case"k":case"l":p=parseInt(l[g],10);break;case"P":case"p":if(/pm/i.test(l[g])&&p<12){p+=12}else if(/am/i.test(l[g])&&p>=12){p-=12}break;case"M":h=parseInt(l[g],10);break}}var _=new Date(d===undefined?m.getFullYear():d,u===undefined?m.getMonth():u,f===undefined?m.getDate():f,p===undefined?m.getHours():p,h===undefined?m.getMinutes():h,0);if(isNaN(_*1)){_=new Date}return _}function o(e,t,i){var s=e.getMonth();var r=e.getDate();var n=e.getFullYear();var o=e.getDay();var a={};var l=e.getHours();var c=l>=12;var f=c?l-12:l;var u=e.getDayOfYear();if(f==0){f=12}var d=e.getMinutes();var p=e.getSeconds();var h=t.split(""),m;for(var g=0;g<h.length;g++){m=h[g];switch(m){case"a":m=i.daysShort[o];break;case"A":m=i.days[o];break;case"b":m=i.monthsShort[s];break;case"B":m=i.months[s];break;case"C":m=1+Math.floor(n/100);break;case"d":m=r<10?"0"+r:r;break;case"e":m=r;break;case"H":m=l<10?"0"+l:l;break;case"I":m=f<10?"0"+f:f;break;case"j":m=u<100?u<10?"00"+u:"0"+u:u;break;case"k":m=l;break;case"l":m=f;break;case"m":m=s<9?"0"+(1+s):1+s;break;case"M":m=d<10?"0"+d:d;break;case"p":case"P":m=c?"PM":"AM";break;case"s":m=Math.floor(e.getTime()/1e3);break;case"S":m=p<10?"0"+p:p;break;case"u":m=o+1;break;case"w":m=o;break;case"y":m=(""+n).substr(2,2);break;case"Y":m=n;break}h[g]=m}return h.join("")}function a(){var t=e(this),i=t.data("pickmeup-options"),s=i.current,r;switch(i.mode){case"multiple":r=s.setHours(0,0,0,0).valueOf();if(e.inArray(r,i.date)!==-1){e.each(i.date,function(e,t){if(t==r){i.date.splice(e,1);return false}return true})}else{i.date.push(r)}break;case"range":if(!i.lastSel){i.date[0]=s.setHours(0,0,0,0).valueOf()}r=s.setHours(0,0,0,0).valueOf();if(r<=i.date[0]){i.date[1]=i.date[0];i.date[0]=r}else{i.date[1]=r}i.lastSel=!i.lastSel;break;default:i.date=s.valueOf();break}var n=c(i);if(t.is("input")){t.val(i.mode=="single"?n[0]:n[0].join(i.separator))}i.change.apply(this,n);if(!i.flat&&i.hide_on_select&&(i.mode!="range"||!i.lastSel)){i.binded.hide();return false}}function l(t){var i=e(t.target);if(!i.hasClass("pmu-button")){i=i.closest(".pmu-button")}if(i.length){if(i.hasClass("pmu-disabled")){return false}var s=e(this),r=s.data("pickmeup-options"),n=i.parents(".pmu-instance").eq(0),o=n.parent(),a=e(".pmu-instance",o).index(n);if(i.parent().is("nav")){if(i.hasClass("pmu-month")){r.current.addMonths(a-Math.floor(r.calendars/2));if(o.hasClass("pmu-view-years")){if(r.mode!="single"){r.current=new Date(r.date[r.date.length-1])}else{r.current=new Date(r.date)}if(r.select_day){o.removeClass("pmu-view-years").addClass("pmu-view-days")}else if(r.select_month){o.removeClass("pmu-view-years").addClass("pmu-view-months")}}else if(o.hasClass("pmu-view-months")){if(r.select_year){o.removeClass("pmu-view-months").addClass("pmu-view-years")}else if(r.select_day){o.removeClass("pmu-view-months").addClass("pmu-view-days")}}else if(o.hasClass("pmu-view-days")){if(r.select_month){o.removeClass("pmu-view-days").addClass("pmu-view-months")}else if(r.select_year){o.removeClass("pmu-view-days").addClass("pmu-view-years")}}}else{if(i.hasClass("pmu-prev")){r.binded.prev(false)}else{r.binded.next(false)}}}else if(!i.hasClass("pmu-disabled")){if(o.hasClass("pmu-view-years")){r.current.setFullYear(parseInt(i.text(),10));if(r.select_month){o.removeClass("pmu-view-years").addClass("pmu-view-months")}else if(r.select_day){o.removeClass("pmu-view-years").addClass("pmu-view-days")}else{r.binded.update_date()}}else if(o.hasClass("pmu-view-months")){r.current.setMonth(n.find(".pmu-months .pmu-button").index(i));r.current.setFullYear(parseInt(n.find(".pmu-month").text(),10));if(r.select_day){o.removeClass("pmu-view-months").addClass("pmu-view-days")}else{r.binded.update_date()}r.current.addMonths(Math.floor(r.calendars/2)-a)}else{var l=parseInt(i.text(),10);r.current.addMonths(a-Math.floor(r.calendars/2));if(i.hasClass("pmu-not-in-month")){r.current.addMonths(l>15?-1:1)}r.current.setDate(l);r.binded.update_date()}}r.binded.fill()}return false}function c(t){var i;if(t.mode=="single"){i=new Date(t.date);return[o(i,t.format,t.locale),i]}else{i=[[],[]];e.each(t.date,function(e,s){var r=new Date(s);i[0].push(o(r,t.format,t.locale));i[1].push(r)});return i}}function f(t){var i=this.pickmeup;if(t||!i.is(":visible")){var s=e(this),r=s.data("pickmeup-options"),o=s.offset(),a={l:document.documentElement.scrollLeft,t:document.documentElement.scrollTop,w:document.documentElement.clientWidth,h:document.documentElement.clientHeight},l=o.top,c=o.left;r.binded.fill();if(s.is("input")){s.pickmeup("set_date",n(s.val()?s.val():r.default_date,r.format,r.separator,r.locale)).keydown(function(e){if(e.which==9){s.pickmeup("hide")}});r.lastSel=false}r.before_show();if(r.show()==false){return}if(!r.flat){switch(r.position){case"top":l-=i.outerHeight();break;case"left":c-=i.outerWidth();break;case"right":c+=this.offsetWidth;break;case"bottom":l+=this.offsetHeight;break}if(l+i.offsetHeight>a.t+a.h){l=o.top-i.offsetHeight}if(l<a.t){l=o.top+this.offsetHeight+i.offsetHeight}if(c+i.offsetWidth>a.l+a.w){c=o.left-i.offsetWidth}if(c<a.l){c=o.left+this.offsetWidth}i.css({display:"inline-block",top:l+"px",left:c+"px"});e(document).on("mousedown"+r.events_namespace+" touchstart"+r.events_namespace,r.binded.hide).on("resize"+r.events_namespace,[true],r.binded.forced_show)}}}function u(){f.call(this,true)}function d(t){if(!t||!t.target||t.target!=this&&!(this.pickmeup.get(0).compareDocumentPosition(t.target)&16)){var i=this.pickmeup,s=e(this).data("pickmeup-options");if(s.hide()!=false){i.hide();e(document).off("mousedown touchstart",s.binded.hide).off("resize",s.binded.forced_show);s.lastSel=false}}}function p(){var t=e(this).data("pickmeup-options");e(document).off("mousedown",t.binded.hide).off("resize",t.binded.forced_show);t.binded.forced_show()}function h(){var t=e(this).data("pickmeup-options");if(t.mode!="single"){t.date=[];t.lastSel=false;t.binded.fill()}}function m(t){if(typeof t=="undefined"){t=true}var i=this.pickmeup;var s=e(this).data("pickmeup-options");if(i.hasClass("pmu-view-years")){s.current.addYears(-12)}else if(i.hasClass("pmu-view-months")){s.current.addYears(-1)}else if(i.hasClass("pmu-view-days")){s.current.addMonths(-1)}if(t){s.binded.fill()}}function g(t){if(typeof t=="undefined"){t=true}var i=this.pickmeup;var s=e(this).data("pickmeup-options");if(i.hasClass("pmu-view-years")){s.current.addYears(12)}else if(i.hasClass("pmu-view-months")){s.current.addYears(1)}else if(i.hasClass("pmu-view-days")){s.current.addMonths(1)}if(t){s.binded.fill()}}function _(t){var i=e(this).data("pickmeup-options"),s=c(i);if(typeof t==="string"){var r=s[1];if(r.constructor==Date){return o(r,t,i.locale)}else{return r.map(function(e){return o(e,t,i.locale)})}}else{return s[t?0:1]}}function v(t){var i=e(this),s=i.data("pickmeup-options");s.date=t;if(typeof s.date==="string"){s.date=n(s.date,s.format,s.separator,s.locale).setHours(0,0,0,0)}else if(s.date.constructor==Date){s.date.setHours(0,0,0,0)}if(!s.date){s.date=new Date;s.date.setHours(0,0,0,0)}if(s.mode!="single"){if(s.date.constructor!=Array){s.date=[s.date.valueOf()];if(s.mode=="range"){s.date.push(new Date(s.date[0]).setHours(0,0,0,0).valueOf())}}else{for(var r=0;r<s.date.length;r++){s.date[r]=n(s.date[r],s.format,s.separator,s.locale).setHours(0,0,0,0).valueOf()}if(s.mode=="range"){s.date[1]=new Date(s.date[1]).setHours(0,0,0,0).valueOf()}}}else{if(i.val()||s.default_date!==false){s.date=s.date.constructor==Array?s.date[0].valueOf():s.date.valueOf()}}s.current=new Date(s.mode!="single"?s.date[0]:s.date);s.binded.fill();if(i.is("input")){var o=c(s);i.val(s.mode=="single"?s.default_date===false?i.val():o[0]:o[0].join(s.separator))}}function b(){var t=e(this),i=t.data("pickmeup-options");t.removeData("pickmeup-options");t.off(i.events_namespace);e(document).off(i.events_namespace);e(this.pickmeup).remove()}e.fn.pickmeup=function(o){if(typeof o==="string"){var c,y=Array.prototype.slice.call(arguments,1);switch(o){case"hide":case"show":case"clear":case"update":case"prev":case"next":case"destroy":this.each(function(){c=e(this).data("pickmeup-options");if(c){c.binded[o]()}});break;case"get_date":c=this.data("pickmeup-options");if(c){return c.binded.get_date(y[0])}else{return null}break;case"set_date":this.each(function(){c=e(this).data("pickmeup-options");if(c){c.binded[o].apply(this,y)}})}return this}return this.each(function(){var c=e(this);if(c.data("pickmeup-options")){return}var y,w,x=e.extend({},e.pickmeup,o||{});for(y in x){w=c.data("pmu-"+y);if(typeof w!=="undefined"){x[y]=w}}if(x.view=="days"&&!x.select_day){x.view="months"}if(x.view=="months"&&!x.select_month){x.view="years"}if(x.view=="years"&&!x.select_year){x.view="days"}if(x.view=="days"&&!x.select_day){x.view="months"}x.calendars=Math.max(1,parseInt(x.calendars,10)||1);x.mode=/single|multiple|range/.test(x.mode)?x.mode:"single";if(typeof x.min==="string"){x.min=n(x.min,x.format,x.separator,x.locale).setHours(0,0,0,0)}else if(x.min&&x.min.constructor==Date){x.min.setHours(0,0,0,0)}if(typeof x.max==="string"){x.max=n(x.max,x.format,x.separator,x.locale).setHours(0,0,0,0)}else if(x.max&&x.max.constructor==Date){x.max.setHours(0,0,0,0)}if(!x.select_day){if(x.min){x.min=new Date(x.min);x.min.setDate(1);x.min=x.min.valueOf()}if(x.max){x.max=new Date(x.max);x.max.setDate(1);x.max=x.max.valueOf()}}if(typeof x.date==="string"){x.date=n(x.date,x.format,x.separator,x.locale).setHours(0,0,0,0)}else if(x.date.constructor==Date){x.date.setHours(0,0,0,0)}if(!x.date){x.date=new Date;x.date.setHours(0,0,0,0)}if(x.mode!="single"){if(x.date.constructor!=Array){x.date=[x.date.valueOf()];if(x.mode=="range"){x.date.push(new Date(x.date[0]).setHours(0,0,0,0).valueOf())}}else{for(y=0;y<x.date.length;y++){x.date[y]=n(x.date[y],x.format,x.separator,x.locale).setHours(0,0,0,0).valueOf()}if(x.mode=="range"){x.date[1]=new Date(x.date[1]).setHours(0,0,0,0).valueOf()}}x.current=new Date(x.date[0]);if(!x.select_day){for(y=0;y<x.date.length;++y){x.date[y]=new Date(x.date[y]);x.date[y].setDate(1);x.date[y]=x.date[y].valueOf();if(x.mode!="range"&&x.date.indexOf(x.date[y])!==y){delete x.date.splice(y,1);--y}}}}else{x.date=x.date.valueOf();x.current=new Date(x.date);if(!x.select_day){x.date=new Date(x.date);x.date.setDate(1);x.date=x.date.valueOf()}}x.current.setDate(1);x.current.setHours(0,0,0,0);var $,k=e(s.wrapper);this.pickmeup=k;if(x.class_name){k.addClass(x.class_name)}var T="";for(y=0;y<x.calendars;y++){$=x.first_day;T+=s.head({prev:x.prev,next:x.next,day:[x.locale.daysMin[$++%7],x.locale.daysMin[$++%7],x.locale.daysMin[$++%7],x.locale.daysMin[$++%7],x.locale.daysMin[$++%7],x.locale.daysMin[$++%7],x.locale.daysMin[$++%7]]})}c.data("pickmeup-options",x);for(y in x){if(["render","change","before_show","show","hide"].indexOf(y)!=-1){x[y]=x[y].bind(this)}}x.binded={fill:r.bind(this),update_date:a.bind(this),click:l.bind(this),show:f.bind(this),forced_show:u.bind(this),hide:d.bind(this),update:p.bind(this),clear:h.bind(this),prev:m.bind(this),next:g.bind(this),get_date:_.bind(this),set_date:v.bind(this),destroy:b.bind(this)};x.events_namespace=".pickmeup-"+ ++t;k.on("click touchstart",x.binded.click).addClass(i[x.view]).append(T).on(e.support.selectstart?"selectstart":"mousedown",function(e){e.preventDefault()});x.binded.fill();if(x.flat){k.appendTo(this).css({position:"relative",display:"inline-block"})}else{k.appendTo(document.body);var S=x.trigger_event.split(" ");for(y=0;y<S.length;++y){S[y]+=x.events_namespace}S=S.join(" ");c.on(S,x.binded.show)}})}});